{"version":3,"sources":["Api/index.js","componets/MainNavbar.js","componets/FooterCont.js","pages/Home.js","pages/Register.js","pages/Help.js","pages/AddItem.js","pages/Lessee.js","pages/Lessor.js","pages/Private.js","pages/Category.js","pages/Item.js","pages/LessorItems.js","pages/BookingLessor.js","pages/CurrentLessor.js","pages/HistoryLessor.js","pages/historyLessee.js","pages/BookingLessee.js","pages/CurrentLessee.js","pages/MessagesList.js","pages/Message.js","pages/Search.js","componets/Loading.js","App.js","serviceWorker.js","index.js"],"names":["myFetch","url","method","body","a","token","localStorage","getItem","options","headers","JSON","stringify","undefined","fetch","res","json","data","err","message","api","getOrdersByUserId","userId","userType","getOrdersByItemId","itemID","getItemsBySearchWord","word","confirmReceivingItem","orderId","approveBooking","sendItemReview","getReviews","id","login","getCurrentUser","getUserById","getCategories","getProductsByCategoryId","getDataHomePage","getItemById","addNewItem","addNewUser","addNewOrder","getItemsByLessorID","getMessageByChatId","getChatsByUserId","getFooterData","getLastMessageByChatID","chatID","links","text","isPrivate","to","MainNavbar","onLogin","onLogout","user","useState","show","setShow","form","setForm","handleClose","handleShow","history","useHistory","handleLogin","event","preventDefault","Api","setItem","window","socket","io","on","console","log","Navbar","sticky","bg","expand","Col","xl","md","sm","xs","Brand","as","Link","src","width","height","className","Badge","pill","variant","firstName","span","offset","Toggle","aria-controls","Collapse","Nav","dir","map","link","onClick","e","handleLink","Button","size","Modal","onHide","Header","closeButton","Title","Body","Form","onSubmit","onChange","target","name","value","Row","Label","lg","column","Control","type","placeholder","Footer","push","FooterCont","props","totalItems","setTotalItems","totalDeals","setTotalDeals","totalUsers","setTotaUsers","useEffect","totalOrders","Container","Media","Table","striped","bordered","hover","style","img","Home","products","setProducts","categories","setCategories","searchWorld","setSearchWorld","newProducts","marginTop","fontSize","CardGroup","category","i","_id","Card","Img","product","key","mainImg","title","date","createdAt","Date","toLocaleString","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","Register","files","newImages","document","querySelector","classList","remove","fluid","maxWidth","FormGroup","FormLabel","minlength","required","pattern","File","Image","profilepPic","alt","roundedCircle","block","Help","Accordion","eventKey","marginBottom","AddItem","showImgSection","image","msg","rows","maxlength","cat","min","step","max","multiple","images","Check","rounded","Lessee","Alert","Lessor","Private","path","match","fill","Item","exact","Category","useParams","categoryTitle","setCategoryTitle","itemsByCategory","getProducts","priceHour","priceDay","moment","locale","item","lessor","setLessor","index","setIndex","startDate","setStartDate","endDate","setEndDate","reviews","setReviews","setMessage","totalPrice","setTotalPrice","itemOrders","setItemOrders","totalLessorData","setTotalLessorData","userExist","userIsLessor","varientBtn","itemDetails","totalItemsOwn","totalLessorOrders","getItemDetails","getItemsOrders","scrollTo","formatDate","d","slice","getValid","current","yesterday","Datetime","subtract","isAfter","calculateTotalPrice","hourDiffenece","differenceInHours","dayDiffenece","differenceInCalendarDays","Number","startRent","endRent","lastName","Text","disabled","Carousel","activeIndex","onSelect","selectedIndex","interval","maxHeight","border","description","length","isValidDate","inputProps","format","onBlur","review","lessee","profileImg","thumbnail","fullName","readonly","initialRating","itemRate","emptySymbol","viewBox","class","xmlns","fill-rule","fullSymbol","emit","receiver","LessorItems","items","setItems","selectedItem","setSelectedItem","lessorID","hebrewText","totalRentTime","rentStart","retnEnd","lessorName","status","statusValue","NEW_BOOKING","CONFIRM_BOOKING","STATUSES","BookingLessor","orders","setOrders","selectedOrder","setSelectedOrder","approveOrder","filterOrders","dateFormate","filter","order","borderColor","variantByStatus","start","end","getTotalTime","lesseeFullName","CurrentLessor","confirmOrder","orderID","HistoryLessor","HistoryLessee","ItemRate","setItemRate","reviewMsg","setReviewMsg","sendReview","reviewObj","itemId","userID","reviewSent","rate","BookingLessee","disableConfirmBTN","CurrentLessee","MessagesList","chats","setChats","newChats","chat","friendId","participants","find","friend","lastMessage","getChats","Message","messages","setMessages","friendOBJ","setFriend","friendID","sender","friendObj","getAllMessages","Jumbotron","messageObj","getElementById","Search","searchWord","searchItems","Loading","Spinner","animation","role","App","setUser","loading","setLoading","newUser","getCurrent","removeItem","component","PrivatePage","Boolean","location","hostname","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.a7e2edd7.chunk.js","sourcesContent":["async function myFetch(url, method, body) {\r\n\ttry {\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tconst options = {\r\n\t\t\theaders: { 'Content-Type': 'application/json', token: token },\r\n\t\t\tmethod: method || 'GET',\r\n\t\t};\r\n\t\toptions.body = body ? JSON.stringify(body) : undefined;\r\n\r\n\t\tlet baseUrl = '/api';\r\n\r\n\t\tconst res = await fetch(`${baseUrl}${url}`, options);\r\n\t\tconst data = await res.json();\r\n\t\treturn data;\r\n\t} catch (err) {\r\n\t\treturn {\r\n\t\t\terr: err.message,\r\n\t\t};\r\n\t}\r\n}\r\n\r\nfunction Api() {\r\n\treturn {\r\n\t\tgetOrdersByUserId: async (userId, userType) => {\r\n\t\t\tconst data = await myFetch(`/products/ordersByUserId?id=${userId}&userType=${userType}`);\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tgetOrdersByItemId: async itemID => {\r\n\t\t\tconst data = await myFetch(`/products/ordersByItemId?id=${itemID}`);\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tgetItemsBySearchWord: async word => {\r\n\t\t\tconst data = await myFetch(`/products/itemsBySearch?searchWord=${word}`);\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tconfirmReceivingItem: async (orderId, userType) => {\r\n\t\t\tconst data = await myFetch('/orders/confirmReceiveItem', 'POST', { userType, orderId });\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tapproveBooking: async orderId => {\r\n\t\t\tconst userType = 'lessor';\r\n\t\t\tconst data = await myFetch('/orders/approveBooking', 'POST', { orderId, userType });\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tsendItemReview: async body => myFetch('/products/addReview', 'POST', body),\r\n\r\n\t\tgetReviews: async id => myFetch(`/products/getReview?itemID=${id}`),\r\n\r\n\t\tlogin: async body => {\r\n\t\t\tconst data = await myFetch('/auth/login', 'POST', body);\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\t// users\r\n\t\tgetCurrentUser: async () => await myFetch('/auth/currentUser'),\r\n\r\n\t\tgetUserById: async id => await myFetch(`/users/${id}`),\r\n\r\n\t\tgetCategories: async () => await myFetch('/products/categories'),\r\n\r\n\t\tgetProductsByCategoryId: async id => await myFetch(`/products/category/${id}`),\r\n\r\n\t\tgetDataHomePage: async () => await myFetch('/products/homePage'),\r\n\r\n\t\tgetItemById: async id => await myFetch(`/products/item/${id}`),\r\n\r\n\t\taddNewItem: async body => await myFetch('/products/addItem', 'POST', body),\r\n\r\n\t\taddNewUser: async body => await myFetch('/auth/signup', 'POST', body),\r\n\r\n\t\taddNewOrder: async body => {\r\n\t\t\tconst data = await myFetch('/products/orderItem', 'POST', body);\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tgetItemsByLessorID: async userId => {\r\n\t\t\tconst data = await myFetch(`/products/getItemsByLessorID?id=${userId}`);\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tgetMessageByChatId: async id => myFetch(`/messages/chat/${id}`),\r\n\r\n\t\tgetChatsByUserId: async id => await myFetch(`/chats/user/${id}`),\r\n\r\n\t\tgetFooterData: async () => await myFetch('/footerData'),\r\n\r\n\t\tgetLastMessageByChatID: async chatID => await myFetch(`/messages/chatLastMsg/${chatID}`),\r\n\t};\r\n}\r\n\r\nconst api = Api();\r\n\r\nexport default api;\r\n","import React, { useState } from 'react';\r\n// NavLink - change url\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Navbar, Nav, Col, Button, Modal, Form, Badge } from 'react-bootstrap';\r\n\r\nimport Api from '../Api';\r\n\r\nimport io from 'socket.io-client';\r\n\r\n// array of all link, every link have text, path and isPrivate(boolean if it private only logged in user can access )\r\nconst links = [\r\n\t{ text: '', isPrivate: false, to: '/' },\r\n\t{ text: '', isPrivate: true, to: '/messages' },\r\n\t{ text: ' ', isPrivate: true, to: '/private' },\r\n\t{ text: '', isPrivate: false, to: '/help' },\r\n];\r\n\r\nfunction MainNavbar({ onLogin, onLogout, user }) {\r\n\t//login modal (pop-up)\r\n\tconst [show, setShow] = useState(false);\r\n\tconst [form, setForm] = useState({});\r\n\r\n\t//handle close/open of login modal\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\tconst ToggleLogin = () => {\r\n\t\t// if user exists -> log out\r\n\t\tif (user) return onLogout();\r\n\r\n\t\t// if user not  exists -> show modal login\r\n\t\thandleShow();\r\n\t};\r\n\r\n\t// create history instance\r\n\tconst history = useHistory();\r\n\tconst toRegister = () => {\r\n\t\thandleClose();\r\n\t\thistory.push('/register');\r\n\t};\r\n\r\n\tconst handleLogin = async event => {\r\n\t\t// login flow ->\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// call login api\r\n\t\tconst data = await Api.login(form);\r\n\t\tlocalStorage.setItem('token', data.token);\r\n\r\n\t\tlet baseUrl = 'localhost:4000';\r\n\t\tif (process.env.NODE_ENV === 'production') {\r\n\t\t\tbaseUrl = 'glacial-cliffs-91994.herokuapp.com';\r\n\t\t}\r\n\r\n\t\twindow.socket = io(`?token=${data.token}`);\r\n\t\twindow.socket.on('connect', () => {\r\n\t\t\tconsole.log('client id', window.socket.id);\r\n\t\t});\r\n\r\n\t\twindow.socket.on('MESSAGE', data => {\r\n\t\t\tconsole.log('on Message', data);\r\n\t\t});\r\n\r\n\t\t// close modal\r\n\t\thandleClose();\r\n\r\n\t\t// save token local storage for next api calls\r\n\t\tlocalStorage.setItem('token', data.token);\r\n\t\t// update use state in App Component\r\n\t\tonLogin(data.user);\r\n\t};\r\n\r\n\t// on link clicked\r\n\tconst handleLink = (event, link) => {\r\n\t\t// if user not logged and route is private prevent redirect and show login modal\r\n\t\tif (link.isPrivate && !user) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t// show pop up\r\n\t\t\thandleShow();\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChange = event => {\r\n\t\tconst { name, value } = event.target;\r\n\t\tsetForm({ ...form, [name]: value });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Navbar sticky=\"top\" bg=\"light\" expand=\"md\">\r\n\t\t\t<Col xl={2} md={2} sm={2} xs={2}>\r\n\t\t\t\t<Navbar.Brand as={Link} to=\"/\">\r\n\t\t\t\t\t<img src=\"/logo1.png\" width=\"45\" height=\"45\" className=\"d-inline-block align-top\" />\r\n\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t<Badge pill variant=\"light\" className=\"pl-3 mt-2\">\r\n\t\t\t\t\t\t\t,{user.firstName}\r\n\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</Navbar.Brand>\r\n\t\t\t</Col>\r\n\t\t\t<Col xl={{ span: 4, offset: 6 }} md={{ span: 5, offset: 5 }} sm={{ span: 2, offset: 8 }} xs={{ span: 3, offset: 7 }}>\r\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav \">\r\n\t\t\t\t\t<Nav dir=\"rtl\" className=\"mr-auto\">\r\n\t\t\t\t\t\t{links.map(link => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Nav.Link as={Link} to={link.to} onClick={e => handleLink(e, link)}>\r\n\t\t\t\t\t\t\t\t\t{link.text}\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t<Button variant={user ? 'outline-danger' : 'outline-primary'} size=\"sm\" onClick={ToggleLogin}>\r\n\t\t\t\t\t\t\t{user ? '' : ''}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t</Navbar.Collapse>\r\n\t\t\t</Col>\r\n\r\n\t\t\t{/******  modal login section ******/}\r\n\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title> </Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<Form dir=\"rtl\" onSubmit={handleLogin} onChange={onChange}>\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Form.Label lg={2} md={2} column=\"sm\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"email\" name=\"email\" placeholder=\"    \" />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Form.Label lg={2} md={2} column=\"sm\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"password\" name=\"password\" placeholder=\" \" />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Col className=\"p10\" xl={{ span: 8, offset: 2 }} md={{ span: 8, offset: 2 }} xs={12}>\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" name=\"login\" variant=\"primary\" size=\"sm\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<col xl={{ offset: 2 }} md={{ offset: 2 }}></col>\r\n\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button onClick={toRegister} size=\"sm\" variant=\"secondary\">\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</Navbar>\r\n\t);\r\n}\r\n\r\nexport default MainNavbar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Media, Button, Table } from 'react-bootstrap';\r\nimport Api from '../Api';\r\n\r\nfunction FooterCont(props) {\r\n\r\n\tconst [totalItems, setTotalItems] = useState(0);\r\n\tconst [totalDeals, setTotalDeals] = useState(0);\r\n\tconst [totalUsers, setTotaUsers] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function getFooterData() {\r\n\t\t\tconst data = await Api.getFooterData();\r\n\t\t\tsetTotaUsers(data.totalUsers);\r\n\t\t\tsetTotalDeals(data.totalOrders);\r\n\t\t\tsetTotalItems(data.totalItems);\r\n\t\t}\r\n\r\n\t\tgetFooterData();\r\n\t}, []);\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row dir=\"rtl\">\r\n\t\t\t\t<Col xl={3} md={3} sm={10} xs={10} className=\"text-right\">\r\n\t\t\t\t\t<Media as=\"li\">\r\n\t\t\t\t\t\t<Media.Body>\r\n\t\t\t\t\t\t\t<Button className='text-right' variant=\"light\"></Button>\r\n\t\t\t\t\t\t</Media.Body>\r\n\t\t\t\t\t</Media>\r\n\t\t\t\t\t<Media as=\"li\">\r\n\t\t\t\t\t\t<Media.Body>\r\n\t\t\t\t\t\t\t<Button className='text-right' variant=\"light\"> </Button>\r\n\t\t\t\t\t\t</Media.Body>\r\n\t\t\t\t\t</Media>\r\n\t\t\t\t\t<Media as=\"li\">\r\n\t\t\t\t\t\t<Media.Body>\r\n\t\t\t\t\t\t\t<Button className='text-right' variant=\"light\"> </Button>\r\n\t\t\t\t\t\t</Media.Body>\r\n\t\t\t\t\t</Media>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xl={4} md={4} sm={10} xs={10}>\r\n\t\t\t\t\t<h3 className='text-center'> </h3>\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<tbody className='text-right'>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td> </td>\r\n\t\t\t\t\t\t\t\t<td>{totalUsers}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>\" </td>\r\n\t\t\t\t\t\t\t\t<td>{totalItems}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td> </td>\r\n\t\t\t\t\t\t\t\t<td>{totalDeals}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xl={4} md={4} sm={10} xs={10}>\r\n\t\t\t\t\t<h5 className='text-center  font-weight-bold'> </h5>\r\n\t\t\t\t\t<Row className=' mt-3 '>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Media as=\"li\">\r\n\t\t\t\t\t\t\t\t<Media.Body>\r\n\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/036-facebook.svg\"} style={{ width: '75px ', height: '75px' }} />\r\n\t\t\t\t\t\t\t\t</Media.Body>\r\n\t\t\t\t\t\t\t</Media>\r\n\t\t\t\t\t\t\t<Media as=\"li\">\r\n\t\t\t\t\t\t\t\t<Media.Body>\r\n\t\t\t\t\t\t\t\t\t<img img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/001-youtube.svg\"} style={{ width: '75px ', height: '75px' }} />\r\n\t\t\t\t\t\t\t\t</Media.Body>\r\n\t\t\t\t\t\t\t</Media>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Media as=\"li\">\r\n\t\t\t\t\t\t\t\t<Media.Body>\r\n\t\t\t\t\t\t\t\t\t<img img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/008-twitter.svg\"} style={{ width: '75px ', height: '75px' }} />\r\n\t\t\t\t\t\t\t\t</Media.Body>\r\n\t\t\t\t\t\t\t</Media>\r\n\t\t\t\t\t\t\t<Media as=\"li\">\r\n\t\t\t\t\t\t\t\t<Media.Body>\r\n\t\t\t\t\t\t\t\t\t<img img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/029-instagram.svg\"} style={{ width: '75px ', height: '75px' }} />\r\n\t\t\t\t\t\t\t\t</Media.Body>\r\n\t\t\t\t\t\t\t</Media>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nexport default FooterCont;","import React, { useState, useEffect } from 'react';\r\nimport { Card, Button, Container, Row, CardDeck, CardGroup, Col, Badge, Form } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Api from '../Api';\r\n\r\nfunction Home(props) {\r\n\tlet [products, setProducts] = useState([]);\r\n\tlet [categories, setCategories] = useState([]);\r\n\tlet [searchWorld, setSearchWorld] = useState('');\r\n\r\n\tconst history = useHistory();\r\n\r\n\tfunction submitSearch() {\r\n\t\thistory.push(`/search/${searchWorld}`);\r\n\t}\r\n\r\n\t// run after every render (by default)\r\n\tuseEffect(() => {\r\n\t\tconsole.log('useEffect');\r\n\r\n\t\tasync function getDataHomePage() {\r\n\r\n\t\t\tconst data = await Api.getDataHomePage();\r\n\t\t\tconsole.log('data', data);\r\n\r\n\t\t\tsetProducts(data.newProducts);\r\n\t\t\tsetCategories(data.categories);\r\n\t\t}\r\n\r\n\t\tgetDataHomePage(); // function call\r\n\t}, []);\r\n\r\n\tfunction formatDate(date) {\r\n\t\tconst d = new Date(date);\r\n\t\treturn d.toLocaleString('en-GB');\r\n\t}\r\n\r\n\tconsole.log('categories', categories);\r\n\tconsole.log('products', products);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Container\r\n\t\t\t\tclassName=\"search \"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmarginTop: '1%',\r\n\t\t\t\t}}>\r\n\t\t\t\t<Form.Row className=\"align-middle\">\r\n\t\t\t\t\t<Col xl={{ span: 6, offset: 2 }} md={{ span: 6, offset: 2 }} sm={{ span: 6, offset: 2 }} xs={{ span: 6, offset: 2 }}>\r\n\t\t\t\t\t\t<Form.Control onChange={e => setSearchWorld(e.target.value)} type=\"text\" size={'sm'} dir=\"rtl\" placeholder=\" \" />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Button size={'sm'} onClick={submitSearch}>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Form.Row>\r\n\t\t\t</Container>\r\n\t\t\t<Container className=\"categories\">\r\n\t\t\t\t<Row style={{ marginTop: '1%' }}>\r\n\t\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'medium' }}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Badge>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<CardGroup as={Row} className=\"pt-3\">\r\n\t\t\t\t\t{categories.map((category, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6}>\r\n\t\t\t\t\t\t\t\t<Link to={`/category/${category._id}`}>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={category.img} />\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<small className=\"text-muted\">{category.name}</small>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</CardGroup>\r\n\t\t\t</Container>\r\n\t\t\t<Container className=\"trending\"></Container>\r\n\t\t\t<Container className=\"newest\">\r\n\t\t\t\t<Row className=\"pt-3\">\r\n\t\t\t\t\t<Badge as={Col} variant=\"dark\" style={{ fontSize: 'medium' }}>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Badge>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<CardGroup as={Row} className=\"pt-3\">\r\n\t\t\t\t\t{products.map((product, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6}>\r\n\t\t\t\t\t\t\t\t<Card key={i}>\r\n\t\t\t\t\t\t\t\t\t<Link to={`/item/${product._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={product.mainImg} />\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>{product.title}</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<small className=\"text-muted\">{formatDate(product.createdAt)}</small>\r\n\t\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</CardGroup>\r\n\t\t\t</Container>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Container, Row, Col, Button, Form, FormGroup, FormLabel, Image } from 'react-bootstrap';\r\nimport Api from '../Api';\r\n\r\nconst toBase64 = file =>\r\n\tnew Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = error => reject(error);\r\n\t});\r\n\r\nfunction Register({ onLogin }) {\r\n\tconst [form, setForm] = useState({});\r\n\tconst history = useHistory();\r\n\r\n\tasync function onChange(e) {\r\n\t\tconst { name, value, files } = e.target;\r\n\r\n\t\t// handle img  file input\r\n\t\tif (name == 'profilepPic') {\r\n\t\t\tlet newImages = '';\r\n\t\t\tif (files) {\r\n\t\t\t\t// console.log(files)\r\n\t\t\t\t//  convert it to base64\r\n\t\t\t\tnewImages = await toBase64(files[0]);\r\n\t\t\t}\r\n\t\t\t//preview img\r\n\t\t\tconst showImgSection = document.querySelector('#profileImg');\r\n\t\t\tshowImgSection.classList.remove('invisible');\r\n\t\t\t// update state with new files of base64\r\n\t\t\treturn setForm({ ...form, [name]: newImages });\r\n\t\t}\r\n\r\n\t\t// handle other  input's\r\n\t\tsetForm({ ...form, [name]: value });\r\n\t\tconsole.log(form);\r\n\t}\r\n\r\n\tasync function onSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconsole.log('form:', form);\r\n\r\n\t\t// send request to server register new user\r\n\t\tconst data = await Api.addNewUser(form)\r\n\t\tconsole.log('from server', data);\r\n\r\n\t\t// save token local storage for next api calls\r\n\t\tlocalStorage.setItem('token', data.token);\r\n\t\t// update use state in App Component\r\n\t\tonLogin(data.user);\r\n\r\n\t\t// redirect to homePage\r\n\t\thistory.push('/');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Form onChange={onChange} onSubmit={onSubmit} dir=\"rtl\">\r\n\t\t\t\t<Container fluid={true} className={'border-right border-left px-5'} style={{ maxWidth: '430px' }}>\r\n\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t<FormGroup as={Col} className=\"text-center\">\r\n\t\t\t\t\t\t\t<FormLabel> :</FormLabel>\r\n\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"firstName\" placeholder=\"  \" minlength=\"2\" required />\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t<FormGroup as={Col} className=\" text-center\">\r\n\t\t\t\t\t\t\t<FormLabel> :</FormLabel>\r\n\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"lastName\" placeholder=\"  \" minlength=\"2\" required />\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\r\n\t\t\t\t\t\t<FormLabel> :</FormLabel>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"email\" name=\"email\" placeholder=\"  \" required />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\r\n\t\t\t\t\t\t<FormLabel>:</FormLabel>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"password\" name=\"password\" placeholder=\"  \" required />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\r\n\t\t\t\t\t\t<FormLabel> :</FormLabel>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\tpattern=\"[0-9]{3}-[0-9]{7}\"\r\n\t\t\t\t\t\t\tplaceholder=\"  888-8888888\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\r\n\t\t\t\t\t\t<FormLabel> </FormLabel>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"city\" placeholder=\"   \" minlength=\"2\" required />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"image\">\r\n\t\t\t\t\t\t<FormLabel>  </FormLabel>\r\n\t\t\t\t\t\t<Form.File name=\"profilepPic\" />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<Row className=\"justify-content-center invisible\" id=\"profileImg\">\r\n\t\t\t\t\t\t<Image width=\"170\" height=\"180\" src={form.profilepPic} alt=\"prev\" roundedCircle />\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" size=\"md\" block>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Container>\r\n\t\t\t</Form>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport {Accordion, Card, Button, Container, Row, Badge, Col} from 'react-bootstrap';\r\n\r\nfunction Help(props){\r\n    return(\r\n        <Container fluid={true} style={ {maxWidth: '1100px'}}>\r\n            <Row style={{ marginTop: '1%' }}>\r\n\t\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'medium' }}>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Badge>\r\n\t\t\t</Row>\r\n            <Accordion style={{ marginTop: '1%' }} className=\"text-right\" dir=\"rtl\">\r\n                <Card>\r\n                    <Card.Header>\r\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n                              \r\n                        </Accordion.Toggle>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                        <Card.Body>Hello! I'm the body</Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Header>\r\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n                              \r\n                        </Accordion.Toggle>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"1\">\r\n                        <Card.Body>Hello! I'm another body</Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Header>\r\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\r\n                              \r\n                        </Accordion.Toggle>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"2\">\r\n                        <Card.Body>Hello! I'm the body</Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Header>\r\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\">\r\n                               \r\n                        </Accordion.Toggle>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"3\">\r\n                        <Card.Body>Hello! I'm another body</Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n                <Card>\r\n                    <Card.Header>\r\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"4\">\r\n                              \r\n                        </Accordion.Toggle>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"4\">\r\n                        <Card.Body>Hello! I'm the body</Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n                <Card style={{marginBottom: '1%'}}>\r\n                    <Card.Header>\r\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"5\">\r\n                               \r\n                        </Accordion.Toggle>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey=\"5\">\r\n                        <Card.Body>Hello! I'm another body</Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n        </Accordion>\r\n    </Container>\r\n    )\r\n}\r\n\r\nexport default Help;","import React, { useState, useEffect } from 'react';\r\n// history hook for use browser history api\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, FormGroup, FormLabel, Button, Container, Col, Row, Image } from 'react-bootstrap';\r\n\r\nimport Api from '../Api';\r\n\r\n//TODO: add user id in serverSide (db->products.js)\r\n\r\n// convert file to base64\r\nconst toBase64 = file =>\r\n\tnew Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = error => reject(error);\r\n\t});\r\n\r\nfunction AddItem() {\r\n\t//add creation time of item\r\n\t//time format \"dd/mm/yyyy\"\r\n\tconst [form, setForm] = useState({});\r\n\r\n\tconst [categories, setCategories] = useState([]);\r\n\r\n\t// create history instance\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function getCategories() {\r\n\t\t\tconst data = await Api.getCategories();\r\n\t\t\tif (data.err) {\r\n\t\t\t\t// handle error\r\n\t\t\t\tconsole.log('getCategories', data.err.msg)\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('data', data);\r\n\t\t\tsetCategories(data['categories']);\r\n\t\t}\r\n\t\tgetCategories(); // function call\r\n\t}, []);\r\n\r\n\t// on form change callback\r\n\tasync function onChange(event) {\r\n\t\t// read data from input that changed (event.target)\r\n\t\tconst { name, value, files } = event.target;\r\n\r\n\t\t// handle change for input name images\r\n\t\tif (name == 'images') {\r\n\t\t\tconst showImgSection = document.querySelector('#imagesPreviwTitle');\r\n\t\t\tconst newImages = [];\r\n\t\t\tif (files) {\r\n\t\t\t\t// for every file that user upload, convert it to base64\r\n\t\t\t\tfor (let image of files) {\r\n\t\t\t\t\tconst res = await toBase64(image);\r\n\t\t\t\t\tnewImages.push(res);\r\n\t\t\t\t}\r\n\t\t\t\t//show title on image preview\r\n\t\t\t\tshowImgSection.classList.remove('invisible');\r\n\t\t\t}\r\n\t\t\t// update state with new files of base64\r\n\t\t\treturn setForm({ ...form, [name]: newImages });\r\n\t\t}\r\n\t\t// other inputs handler\r\n\t\tsetForm({ ...form, [name]: value });\r\n\t}\r\n\r\n\tasync function onSubmit(event) {\r\n\t\t// prevent form refresh page (default behavior of html forms)\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// send request to server add new product\r\n\t\tconst data = await Api.addNewItem(form);\r\n\t\tif (data.err) {\r\n\t\t\t// handle error\r\n\t\t\tconsole.log('getCategories', data.err.msg)\r\n\t\t}\r\n\t\tconsole.log('data', data);\r\n\r\n\t\t// use history instance for redirect to private page\r\n\t\thistory.push('/private');\r\n\t}\r\n\r\n\tconsole.log('form', form);\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<form onChange={onChange} onSubmit={onSubmit} dir=\"rtl\">\r\n\t\t\t\t<Container fluid={true} className={'border-right border-left px-5'} style={{ maxWidth: '430px' }}>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"title\">\r\n\t\t\t\t\t\t<FormLabel>:</FormLabel>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"title\" placeholder=\" \" minlength=\"2\" required />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup as={Row} size=\"sm\" className=\"description\">\r\n\t\t\t\t\t\t<FormLabel> :</FormLabel>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\trows=\"3\"\r\n\t\t\t\t\t\t\tplaceholder=\"     255 \"\r\n\t\t\t\t\t\t\tmaxlength=\"255\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"category\">\r\n\t\t\t\t\t\t<FormLabel></FormLabel>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" name=\"category_id\" required>\r\n\t\t\t\t\t\t\t<option value=\"\"> ...</option>\r\n\t\t\t\t\t\t\t{categories.map(cat => {\r\n\t\t\t\t\t\t\t\treturn <option value={cat._id}>{cat.name}</option>;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<Form.Row xl={12}>\r\n\t\t\t\t\t\t<FormGroup as={Col} md={6}>\r\n\t\t\t\t\t\t\t<FormLabel>  :</FormLabel>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tname=\"priceHour\"\r\n\t\t\t\t\t\t\t\tplaceholder='    \"'\r\n\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\tstep=\"0.5\"\r\n\t\t\t\t\t\t\t\tmax=\"10000\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t<FormGroup as={Col} md={6}>\r\n\t\t\t\t\t\t\t<FormLabel>  :</FormLabel>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tname=\"priceDay\"\r\n\t\t\t\t\t\t\t\tplaceholder='   \"'\r\n\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\tstep=\"0.5\"\r\n\t\t\t\t\t\t\t\tmax=\"10000\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t<FormGroup as={Row} className=\"images\">\r\n\t\t\t\t\t\t<FormLabel>  :</FormLabel>\r\n\t\t\t\t\t\t<Form.File name=\"images\" multiple required />\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" size=\"md\" block>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Container>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<p as={Row} className=\"text-muted text-center invisible \" id=\"imagesPreviwTitle\">\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row className=\"imagesPreviw\">\r\n\t\t\t\t\t\t{form.images &&\r\n\t\t\t\t\t\t\tform.images.map((img, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<FormGroup key={i} as={Col} xl={3} md={3} sm={6} xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Check required=\"required\" type=\"radio\" name=\"mainImg\" value={img} />\r\n\t\t\t\t\t\t\t\t\t\t<Image width=\"170\" height=\"180\" src={img} alt=\"prev\" rounded />\r\n\t\t\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</form>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default AddItem;\r\n","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Row, Col, Button, Alert, Container } from 'react-bootstrap';\r\n\r\nconst Lessee = () => {\r\n\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\r\n\t\t\t\t \r\n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessee/booking\">\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t {' '}\r\n\t\t\t\t</Alert.Link>\r\n\t\t\t</Alert>\r\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\r\n\t\t\t\t  \r\n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessee/current_rent\">\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t {' '}\r\n\t\t\t\t</Alert.Link>\r\n\t\t\t</Alert>\r\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\r\n\t\t\t\t \r\n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessee/history\">\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t {' '}\r\n\t\t\t\t</Alert.Link>\r\n\t\t\t</Alert>\r\n\t\t</Container>\r\n\r\n\t);\r\n};\r\n\r\nexport default Lessee;\r\n","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Row, Col, Button, Alert, Container } from 'react-bootstrap';\r\n\r\nconst Lessor = () => {\r\n\tconst history = useHistory();\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className=\"align-center mb-3\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tas={Col}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thistory.push('/edit_items');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\txl={{ span: '4', offset: '2' }}\r\n\t\t\t\t\tmd={{ span: '4', offset: '2' }}\r\n\t\t\t\t\tclassName=\"mt-1\"\r\n\t\t\t\t>\r\n\t\t\t\t\t \r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thistory.push('/additem');\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tas={Col}\r\n\t\t\t\t\txl={{ span: '4', offset: '1' }}\r\n\t\t\t\t\tmd={{ span: '4', offset: '1' }}\r\n\t\t\t\t\tclassName=\" mt-1\">\r\n\t\t\t\t\t \r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\r\n\t\t\t\t  \r\n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessor/booking\">\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t {' '}\r\n\t\t\t\t</Alert.Link>\r\n\t\t\t</Alert>\r\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\r\n\t\t\t\t  \r\n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessor/current_rent\">\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t {' '}\r\n\t\t\t\t</Alert.Link>\r\n\t\t\t</Alert>\r\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\r\n\t\t\t\t \r\n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessor/history\">\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t {' '}\r\n\t\t\t\t</Alert.Link>\r\n\t\t\t</Alert>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Lessor;\r\n","import React from 'react';\r\nimport Lessee from './Lessee';\r\nimport Lessor from './Lessor';\r\nimport { Container, Tab, Tabs, Nav } from 'react-bootstrap';\r\n\r\nimport { Route, NavLink, Redirect, Switch, Link, Item } from 'react-router-dom';\r\n\r\nconst Private = props => {\r\n\tconsole.log('ppp', props);\r\n\tconst { path } = props.match;\r\n\treturn (\r\n\t\t<Container>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t{/* <Nav variant=\"pills\" fill defaultActiveKey=\"link-1\"> */}\r\n\t\t\t\t<Nav variant=\"tabs\" fill >\r\n\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t<Nav.Link as={Link} to={`${path}/lessee`} eventKey=\"link-1\"></Nav.Link>\r\n\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t\t<Nav.Link as={Link} to={`${path}/lessor`} eventKey=\"link-2\"></Nav.Link>\r\n\t\t\t\t\t</Nav.Item>\r\n\t\t\t\t</Nav>\r\n\t\t\t</div>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path={`${path}/lessee`}>\r\n\t\t\t\t\t<Lessee />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route exact path={`${path}/lessor`}>\r\n\t\t\t\t\t<Lessor />\r\n\t\t\t\t</Route>\r\n\t\t\t\t{/* on first enter to private path (default route) */}\r\n\t\t\t\t<Redirect to={`${path}/lessee`} />\r\n\t\t\t</Switch>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Private;\r\n","\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Container, Row, Col, Badge, Card, CardDeck, CardGroup } from 'react-bootstrap';\r\nimport Api from '../Api';\r\n\r\nconst Category = () => {\r\n\tlet { id } = useParams();\r\n\tlet [products, setProducts] = useState([]);\r\n\tlet [categoryTitle, setCategoryTitle] = useState('');\r\n\r\n\t// run after every render (by default)\r\n\tuseEffect(() => {\r\n\t\tconsole.log('useEffect...');\r\n\r\n\t\tasync function getProducts() {\r\n\r\n\t\t\tconst data = await Api.getProductsByCategoryId(id)\r\n\t\t\tconsole.log('products by cat id', data);\r\n\r\n\t\t\tsetProducts(data.itemsByCategory);\r\n\t\t\tsetCategoryTitle(data.categoryTitle)\r\n\t\t}\r\n\t\tgetProducts();\r\n\t}, []);\r\n\r\n\tfunction formatDate(date) {\r\n\t\tconst d = new Date(date);\r\n\t\treturn d.toLocaleString('en-GB');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container className=\"categories\">\r\n\t\t\t<Row style={{ marginTop: '1%' }}>\r\n\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'large' }}>\r\n\t\t\t\t\t{categoryTitle}\r\n\t\t\t\t</Badge>\r\n\t\t\t</Row>\r\n\t\t\t<CardGroup as={Row} className=\"pt-3\">\r\n\t\t\t\t{products.map((product, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6}>\r\n\t\t\t\t\t\t\t<Card key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={`/item/${product._id}`}>\r\n\t\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={product.mainImg} />\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t{product.title}\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge pill variant=\"primary\">: {product.priceHour}</Badge>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge pill variant=\"primary\">: {product.priceDay}</Badge>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<small className=\"text-muted\">{formatDate(product.createdAt)}</small>\r\n\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</CardGroup>\r\n\t\t</Container>\r\n\t);\r\n\r\n};\r\n\r\nexport default Category;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link, useHistory } from 'react-router-dom';\r\nimport { Container, Row, Col, Carousel, Badge, Card, Image, Button, Alert, Modal, Form } from 'react-bootstrap';\r\nimport Api from '../Api';\r\nimport Rating from 'react-rating'; // https://github.com/dreyescat/react-rating\r\n\r\n//date-time picker  https://github.com/YouCanBookMe/react-datetime\r\nimport * as Datetime from 'react-datetime';\r\nimport 'react-datetime/css/react-datetime.css';\r\n//set local *hebrew* format for date-time picker\r\nimport moment from 'moment';\r\nimport 'moment/locale/he';\r\n\r\nimport { differenceInCalendarDays, differenceInHours } from 'date-fns';\r\n\r\nmoment.locale('he');\r\n\r\nconst Item = ({ user }) => {\r\n\tconst { id } = useParams();\r\n\tconst history = useHistory();\r\n\tconst [item, setItem] = useState({});\r\n\tconst [lessor, setLessor] = useState({});\r\n\tconst [index, setIndex] = useState(0); //Carousel\r\n\tconst [startDate, setStartDate] = useState(null);\r\n\tconst [endDate, setEndDate] = useState(null);\r\n\tconst [reviews, setReviews] = useState([]);\r\n\tconst [message, setMessage] = useState('');\r\n\tconst [totalPrice, setTotalPrice] = useState(0);\r\n\tconst [itemOrders, setItemOrders] = useState(0);\r\n\tconst [totalLessorData, setTotalLessorData] = useState({});\r\n\tconst [show, setShow] = useState(false); //show modal message\r\n\r\n\t//handle modal show/close\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\tconst userExist = user ? true : false;\r\n\tconst userIsLessor = (userExist && user._id == lessor._id) ? true : false;\r\n\tconst varientBtn = user ? 'primary' : 'dark';\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function getReviews() {\r\n\t\t\tconst data = await Api.getReviews(id);\r\n\t\t\tsetReviews(data);\r\n\t\t};\r\n\t\tasync function getItemDetails() {\r\n\t\t\tconst data = await Api.getItemById(id);\r\n\t\t\tsetItem(data.itemDetails);\r\n\t\t\tsetLessor(data.lessor);\r\n\t\t\tsetTotalLessorData({\r\n\t\t\t\ttotalItems: data.totalItemsOwn,\r\n\t\t\t\ttotalOrders: data.totalLessorOrders,\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tasync function getItemsOrders() {\r\n\t\t\tconst data = await Api.getOrdersByItemId(id);\r\n\t\t\tsetItemOrders(data);\r\n\t\t\tconsole.log('orders:', data)\r\n\t\t}\r\n\r\n\t\tgetItemDetails();\r\n\t\tgetReviews();\r\n\t\tgetItemsOrders();\r\n\t\twindow.scrollTo(0, 0); //scroll to top when page load\r\n\t}, []);\r\n\r\n\t//Carousel  handle\r\n\tconst handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t};\r\n\r\n\tconst onMessage = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tsetMessage(value);\r\n\t};\r\n\r\n\tconst sendMessage = e => {\r\n\t\te.preventDefault();\r\n\t\tconsole.log('msg', message);\r\n\t\tconsole.log('user', user);\r\n\t\tconsole.log('lessor', lessor);\r\n\t\t// send message to server with socket\r\n\t\twindow.socket.emit('MESSAGE', { user, message, receiver: lessor });\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tfunction formatDate(date) {\r\n\t\tlet d = new Date(date);\r\n\t\td = d.toLocaleString('en-GB').slice(0, 10);\r\n\t\treturn d;\r\n\t}\r\n\r\n\tfunction getValid(current) {\r\n\t\tconst yesterday = Datetime.moment().subtract(1, 'day');\r\n\t\treturn current.isAfter(yesterday);\r\n\t}\r\n\r\n\tfunction calculateTotalPrice() {\r\n\t\tif (endDate && startDate) {\r\n\t\t\tconst hourDiffenece = differenceInHours(new Date(endDate), new Date(startDate));\r\n\t\t\tconst dayDiffenece = differenceInCalendarDays(new Date(endDate), new Date(startDate));\r\n\t\t\tif (hourDiffenece < 24) {\r\n\t\t\t\tsetTotalPrice(Number(item.priceHour) * hourDiffenece)\r\n\t\t\t} else {\r\n\t\t\t\tsetTotalPrice(Number(item.priceDay) * dayDiffenece)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tasync function submitOrder() {\r\n\t\t//TODO: validate order dates  & user existesne\r\n\t\ttry {\r\n\t\t\tconst body = {\r\n\t\t\t\tuser: user, //lessee\r\n\t\t\t\tstartRent: startDate,\r\n\t\t\t\tendRent: endDate,\r\n\t\t\t\titem: item,\r\n\t\t\t\tlessor: lessor,\r\n\t\t\t\ttotalPrice: totalPrice,\r\n\t\t\t};\r\n\r\n\t\t\tconsole.log('submitted order obj: ', body);\r\n\r\n\t\t\tconst data = Api.addNewOrder(body);\r\n\t\t\tconsole.log('data order', data);\r\n\r\n\t\t\thistory.push('/private/lessee');\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('fetch new order err: ', err.message);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className=\"my-2\">\r\n\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'large' }}>\r\n\t\t\t\t\t{item.title}\r\n\t\t\t\t</Badge>\r\n\t\t\t</Row>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col xl={4} md={4}>\r\n\t\t\t\t\t<Card bg=\"light\">\r\n\t\t\t\t\t\t<Card.Header className=\"text-center\">\r\n\t\t\t\t\t\t\t<Image src={lessor.profilepPic} roundedCircle style={{ 'maxHeight': '300px' }} />\r\n\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t<Card.Body className=\"text-center\">\r\n\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t{lessor.firstName} {lessor.lastName}{' '}\r\n\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t<p>\" : {totalLessorData.totalItems}</p>\r\n\t\t\t\t\t\t\t\t<p>\" : {totalLessorData.totalOrders}</p>\r\n\t\t\t\t\t\t\t\t<p>   {formatDate(lessor.createdAt)}</p>\r\n\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t<Button variant={varientBtn} size=\"md\" disabled={!userExist} onClick={handleShow} block>\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xl={8} md={8}>\r\n\t\t\t\t\t<Carousel\r\n\t\t\t\t\t\tactiveIndex={index}\r\n\t\t\t\t\t\tonSelect={handleSelect}\r\n\t\t\t\t\t\tinterval={3000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{item.images &&\r\n\t\t\t\t\t\t\titem.images.map(img => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Carousel.Item>\r\n\t\t\t\t\t\t\t\t\t\t<img src={img} className={'text-center'} style={{ maxHeight: '350px', width: '80%' }} />\r\n\t\t\t\t\t\t\t\t\t</Carousel.Item>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Carousel>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t<Row dir=\"rtl\">\r\n\t\t\t\t<Card as={Col} xl={5} md={5} border=\"info\" className=\"ml-1 mt-1\">\r\n\t\t\t\t\t<Card.Header className=\"text-right\"> </Card.Header>\r\n\t\t\t\t\t<Card.Body className=\"text-right\">{item.description}</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t\t<Card as={Col} xl={3} md={3} border=\"info\" className=\"ml-1 mt-1\">\r\n\t\t\t\t\t<Card.Header className=\"text-right\"></Card.Header>\r\n\t\t\t\t\t<Card.Body className=\"text-right\">\r\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"text-center\">\r\n\t\t\t\t\t\t\t  : {item.priceHour}&#x20aa;\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"text-center\">\r\n\t\t\t\t\t\t\t  : {item.priceDay}&#x20aa;\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t\t<Card as={Col} xl={3} md={3} border=\"info\" className=\"ml-1 mt-1 d-none d-sm-block .d-sm-none .d-md-block\">\r\n\t\t\t\t\t<Card.Header className=\"text-right\"> </Card.Header>\r\n\t\t\t\t\t<Card.Body className=\"text-right\">\r\n\t\t\t\t\t\t<li> {itemOrders.length} </li>\r\n\t\t\t\t\t\t<li className=\"pt-3\">\"   {reviews.length}</li>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<Row dir=\"rtl\" className=\"pl-1\">\r\n\t\t\t\t<Card as={Col} xl={12} md={12} border=\"info\" className=\"mt-1\">\r\n\t\t\t\t\t<Card.Header className=\"text-center\"> </Card.Header>\r\n\t\t\t\t\t<Card.Body className=\"text-center\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col md={4} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<Card.Title></Card.Title>\r\n\t\t\t\t\t\t\t\t<Datetime\r\n\t\t\t\t\t\t\t\t\tisValidDate={getValid}\r\n\t\t\t\t\t\t\t\t\tinputProps={{ name: 'startRent' }}\r\n\t\t\t\t\t\t\t\t\tonChange={e => setStartDate(e.format())}\r\n\t\t\t\t\t\t\t\t\tonBlur={calculateTotalPrice} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col md={4} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<Card.Title></Card.Title>\r\n\t\t\t\t\t\t\t\t<Datetime\r\n\t\t\t\t\t\t\t\t\tisValidDate={getValid}\r\n\t\t\t\t\t\t\t\t\tinputProps={{ name: 'endRent' }}\r\n\t\t\t\t\t\t\t\t\tonChange={e => setEndDate(e.format())}\r\n\t\t\t\t\t\t\t\t\tonBlur={calculateTotalPrice} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col md={4} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<h5>\"</h5>\r\n\t\t\t\t\t\t\t\t<p> &#x20aa; {totalPrice} </p>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant={user && !userIsLessor ? 'primary' : 'dark'}\r\n\t\t\t\t\t\t\t\t\tdisabled={(!userExist || userIsLessor)}\r\n\t\t\t\t\t\t\t\t\tonClick={submitOrder}\r\n\t\t\t\t\t\t\t\t\tblock>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row className=\"pt-3 \">\r\n\t\t\t\t\t\t\t<Col md={{ span: '5', offset: '3' }} xs={12}></Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<h2 className=\"text-right mt-3\">\r\n\t\t\t\t<Badge as={Col} variant=\"secondary\" block>\r\n\t\t\t\t\t \r\n\t\t\t\t</Badge>\r\n\t\t\t</h2>\r\n\t\t\t{\r\n\t\t\t\treviews && reviews.map((review) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Row dir=\"rtl\" border=\"primary\" className=\"mt-3\">\r\n\t\t\t\t\t\t\t<Col xl={2} md={2} sm={5} xs={5}>\r\n\t\t\t\t\t\t\t\t<Image src={review.lessee.profileImg} thumbnail />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Card as={Col} key={review._id}>\r\n\t\t\t\t\t\t\t\t<Card.Header as={Row}>\r\n\t\t\t\t\t\t\t\t\t<Col sm={10} xs={10} className=\"text-right font-weight-bold\">{review.lessee.fullName}</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t<Col sm={10} xs={10} className=\"text-left font-weight-light text-muted\">{formatDate(review.createdAt)}</Col>\r\n\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t<Card.Text className=\"text-right\">{review.review}</Card.Text>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\treadonly={true}\r\n\t\t\t\t\t\t\t\t\t\tinitialRating={review.itemRate}\r\n\t\t\t\t\t\t\t\t\t\temptySymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\" />\r\n\t\t\t\t\t\t\t\t\t\t</svg>}\r\n\t\t\t\t\t\t\t\t\t\tfullSymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\r\n\t\t\t\t\t\t\t\t\t\t</svg>}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title> </Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body dir=\"rtl\">\r\n\t\t\t\t\t<Form.Control as=\"textarea\" rows=\"3\" name=\"message\" onChange={onMessage} />\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={sendMessage}>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</Container >\r\n\t);\r\n};\r\n\r\nexport default Item;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, CardGroup, Card, Button, Modal } from 'react-bootstrap';\r\nimport Api from '../Api';\r\n\r\nconst LessorItems = ({ user }) => {\r\n    const [items, setItems] = useState(null);\r\n    const [show, setShow] = useState(false);//MODAL review\r\n    const [selectedItem, setSelectedItem] = useState({});// selected by  onClick Modal BTN\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    useEffect(() => {\r\n        async function getItemsByLessorID() {\r\n            const lessorID = user._id;\r\n            const data = await Api.getItemsByLessorID(lessorID);\r\n            setItems(data);\r\n        }\r\n        getItemsByLessorID();\r\n    }, []);\r\n\r\n    return (\r\n        <Container>\r\n            {console.log('my items:', items)}\r\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\r\n                {items && items.map((item) => {\r\n                    return (\r\n                        <Col xl={3} md={3} sm={6} xs={6} >\r\n                            <Card className=\"p-2\" key={item._id}>\r\n                                <Card.Img variant=\"top\" src={item.mainImg} />\r\n                                <Card.Body className=\"text-center\">\r\n                                    <Card.Title>{item.title}</Card.Title>\r\n                                </Card.Body>\r\n                                <Card.Footer className=\"text-center\">\r\n                                    <Button block>\r\n                                         \r\n                            </Button>\r\n                                    <Button\r\n                                        variant='danger'\r\n                                        onClick={() => {\r\n                                            setSelectedItem(item);\r\n                                            handleShow();\r\n                                        }}\r\n                                        block>\r\n                                         \r\n                            </Button>\r\n                                </Card.Footer>\r\n                            </Card>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </CardGroup>\r\n            <Modal show={show} onHide={handleClose} >\r\n                <Modal.Header closeButton>\r\n                </Modal.Header>\r\n                <Modal.Body dir=\"rtl\" className='text-right'>\r\n                    <h3> : {(selectedItem) ? selectedItem.title : ''}</h3>\r\n                    <p>     ?</p>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Col>\r\n                        <Button variant=\"danger\" onClick={handleClose} block>\r\n                            \r\n                    </Button>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button variant=\"primary\" onClick={handleClose} block>\r\n                            \r\n                    </Button>\r\n                    </Col>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default LessorItems;","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, CardGroup, Card, Button, Modal, Badge } from 'react-bootstrap';\r\nimport { differenceInCalendarDays, differenceInHours, format } from 'date-fns';\r\nimport Api from '../Api';\r\n\r\nconst hebrewText = {\r\n\ttotalRentTime: ' : ',\r\n\ttotalPrice: ' ',\r\n\trentStart: ' ',\r\n\tretnEnd: ' ',\r\n\tlessorName: ' ',\r\n\tstatus: '',\r\n\tstatusValue: {\r\n\t\tNEW_BOOKING: '  ',\r\n\t\tCONFIRM_BOOKING: ''\r\n\t}\r\n};\r\n\r\nconst STATUSES = {\r\n\tNEW_BOOKING: 'NEW_BOOKING', //item just added\r\n\tCONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\r\n\tCONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\r\n\tCONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\r\n};\r\n\r\nconst BookingLessor = ({ user }) => {\r\n\tconst [orders, setOrders] = useState([]);\r\n\tconst [show, setShow] = useState(false); // Modal toggle\r\n\tconst [selectedOrder, setSelectedOrder] = useState({});// selected by Modal onClick\r\n\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\tconst approveOrder = async () => {\r\n\t\t// update(approve) order and return all orders of user(lessor)\r\n\t\tconst data = await Api.approveBooking(selectedOrder._id);\r\n\t\tif (data.err) {\r\n\t\t\t// handle error\r\n\t\t}\r\n\t\tconsole.log('approveOrder, data:', data)\r\n\t\tconst orders = filterOrders(data);\r\n\t\tsetOrders(orders);//set orders with updated list\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function getOrdersByUserId() {\r\n\t\t\t//get all orders where userID == lessorID\r\n\t\t\tconst userType = 'lessor';\r\n\t\t\tconst data = await Api.getOrdersByUserId(user._id, userType);\r\n\t\t\tconsole.log(`use effect , data:`, data)\r\n\t\t\tconst orders = filterOrders(data);\r\n\t\t\tsetOrders(orders);\r\n\r\n\t\t}\r\n\r\n\t\tgetOrdersByUserId();\r\n\t}, []);\r\n\r\n\tconst dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\r\n\r\n\tfunction getTotalTime(start, end) {\r\n\t\tconst hourDiffenece = differenceInHours(new Date(end), new Date(start));\r\n\t\tconst dayDiffenece = differenceInCalendarDays(new Date(end), new Date(start));\r\n\t\tif (hourDiffenece < 24) {\r\n\t\t\treturn ` ${hourDiffenece}`\r\n\t\t} else {\r\n\t\t\treturn `  ${dayDiffenece}`\r\n\t\t}\r\n\t}\r\n\r\n\tconst filterOrders = (orders) => {\r\n\t\tconst filtredOrders = orders.filter(order => {\r\n\t\t\treturn order.status == STATUSES.NEW_BOOKING || order.status == STATUSES.CONFIRM_BOOKING;\r\n\t\t})\r\n\t\treturn filtredOrders;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<h3 className=\"text-center\"> </h3>\r\n\r\n\t\t\t<CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\r\n\t\t\t\t{orders.map(order => {\r\n\t\t\t\t\tconst borders = {\r\n\t\t\t\t\t\tNEW_BOOKING: 'danger',\r\n\t\t\t\t\t\tCONFIRM_BOOKING: 'success',\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst borderColor = borders[order.status];\r\n\t\t\t\t\tconst variantByStatus = (order.status == STATUSES.NEW_BOOKING) ? \"warning\" : \"success\";\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6} key={order._id}>\r\n\t\t\t\t\t\t\t<Card className=\"p-2\" border={borderColor}>\r\n\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={order.itemDetails.img} />\r\n\t\t\t\t\t\t\t\t<Card.Body className=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t<Card.Title>{order.itemDetails.title}</Card.Title>\r\n\t\t\t\t\t\t\t\t\t<p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t{`${hebrewText.status}:`}\r\n\t\t\t\t\t\t\t\t\t\t<Badge variant={variantByStatus}>{hebrewText.statusValue[order.status]}</Badge>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedOrder(order);\r\n\t\t\t\t\t\t\t\t\t\t\thandleShow();\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</CardGroup>\r\n\r\n\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t{(selectedOrder.itemDetails) ? selectedOrder.itemDetails.title : ''}\r\n\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body className=\"text-right\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{hebrewText.totalRentTime}\r\n\t\t\t\t\t\t{getTotalTime(new Date(selectedOrder.startRent), new Date(selectedOrder.endRent))}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>{`${hebrewText.totalPrice}: ${selectedOrder.totalPrice}`}</p>\r\n\t\t\t\t\t<p>{`${hebrewText.lessorName}: ${selectedOrder.lesseeFullName}`}</p>\r\n\t\t\t\t\t{/* TODO: message to lessee */}\r\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t{/* TODO: delete order => message to lessee */}\r\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleClose}>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={approveOrder}>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default BookingLessor;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, CardGroup, Card, Button } from 'react-bootstrap';\r\nimport { differenceInCalendarDays, format } from 'date-fns';\r\nimport Api from '../Api';\r\n\r\nconst STATUSES = {\r\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\r\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\r\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\r\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\r\n};\r\n\r\nconst hebrewText = {\r\n    totalDays: ' :',\r\n    totalPrice: ' ',\r\n    rentStart: ' ',\r\n    retnEnd: ' ',\r\n    lessorName: ' ',\r\n    status: '',\r\n    statusValue: {\r\n        NEW_BOOKING: '  ',\r\n        CONFIRM_BOOKING: ''\r\n    }\r\n};\r\n\r\nconst CurrentLessor = ({ user }) => {\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getOrdersByUserId() {\r\n            //get all orders where userID == lessorID\r\n            const userType = 'lessor';\r\n            const data = await Api.getOrdersByUserId(user._id, userType);\r\n            console.log(`use effect , data:`, data)\r\n            const orders = filterOrders(data);\r\n            setOrders(orders);\r\n\r\n        }\r\n\r\n        getOrdersByUserId();\r\n    }, []);\r\n\r\n    const filterOrders = (orders) => {\r\n        const filtredOrders = orders.filter(order => {\r\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSEE;\r\n        })\r\n        return filtredOrders;\r\n    }\r\n\r\n    //confirm receving item \r\n    const confirmOrder = async (orderID) => {\r\n        const userType = 'lessor';\r\n        const data = await Api.confirmReceivingItem(orderID, userType);\r\n        console.log(`confirmOrder, data:`, data)\r\n        const orders = filterOrders(data);\r\n        setOrders(orders);\r\n\r\n    }\r\n\r\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\r\n\r\n    return (\r\n        <Container>\r\n            <h3 className=\"text-center\"> </h3>\r\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\r\n                {orders.map(order => {\r\n                    return (\r\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\r\n                            <Card className=\"p-2\">\r\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\r\n                                <Card.Body className=\"text-right\">\r\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\r\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\r\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\r\n                                </Card.Body>\r\n                                <Card.Footer className=\"text-center\">\r\n                                    <Button\r\n                                        onClick={() => confirmOrder(order._id)}\r\n                                    >\r\n                                         - \r\n                                    </Button>\r\n                                </Card.Footer>\r\n                            </Card>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </CardGroup>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default CurrentLessor;","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, CardGroup, Card, Button } from 'react-bootstrap';\r\nimport { differenceInCalendarDays, format } from 'date-fns';\r\nimport Api from '../Api';\r\n\r\nconst STATUSES = {\r\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\r\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\r\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\r\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\r\n};\r\n\r\nconst hebrewText = {\r\n    totalDays: ' :',\r\n    totalPrice: ' ',\r\n    rentStart: ' ',\r\n    retnEnd: ' ',\r\n    lessorName: ' ',\r\n    status: '',\r\n    statusValue: {\r\n        NEW_BOOKING: '  ',\r\n        CONFIRM_BOOKING: ''\r\n    }\r\n};\r\n\r\nconst HistoryLessor = ({ user }) => {\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getOrdersByUserId() {\r\n            //get all orders where userID == lessorID\r\n            const userType = 'lessor';\r\n            const data = await Api.getOrdersByUserId(user._id, userType);\r\n            console.log(`use effect , data:`, data)\r\n            const orders = filterOrders(data);\r\n            setOrders(orders);\r\n\r\n        }\r\n\r\n        getOrdersByUserId();\r\n    }, []);\r\n\r\n    const filterOrders = (orders) => {\r\n        const filtredOrders = orders.filter(order => {\r\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSOR;\r\n        })\r\n        return filtredOrders;\r\n    }\r\n\r\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <h3 className=\"text-center\"> </h3>\r\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\r\n                {orders.map(order => {\r\n                    return (\r\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\r\n                            <Card className=\"p-2\">\r\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\r\n                                <Card.Body className=\"text-right\">\r\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\r\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\r\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\r\n                                </Card.Body>\r\n                                <Card.Footer className=\"text-center\">\r\n                                    <Button> </Button>\r\n                                </Card.Footer>\r\n                            </Card>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </CardGroup>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default HistoryLessor;","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, CardGroup, Card, Button, Modal, Form } from 'react-bootstrap';\r\nimport { differenceInCalendarDays, format } from 'date-fns';\r\nimport Rating from 'react-rating'; // https://github.com/dreyescat/react-rating\r\nimport Api from '../Api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst STATUSES = {\r\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\r\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\r\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\r\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\r\n};\r\n\r\nconst hebrewText = {\r\n    totalDays: ' :',\r\n    totalPrice: ' ',\r\n    rentStart: ' ',\r\n    retnEnd: ' ',\r\n    lessorName: ' ',\r\n    status: '',\r\n    statusValue: {\r\n        NEW_BOOKING: '  ',\r\n        CONFIRM_BOOKING: ''\r\n    }\r\n};\r\n\r\nconst HistoryLessee = ({ user }) => {\r\n    const [orders, setOrders] = useState([]);\r\n    const [selectedOrder, setSelectedOrder] = useState({});// selected by Modal onClick\r\n    const [show, setShow] = useState(false);//MODAL review\r\n    const [ItemRate, setItemRate] = useState(3);\r\n    const [reviewMsg, setReviewMsg] = useState('');\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    useEffect(() => {\r\n        async function getOrdersByUserId() {\r\n            //get all orders where userID == lessorID\r\n            const userType = 'lessee';\r\n            const data = await Api.getOrdersByUserId(user._id, userType);\r\n            console.log(`use effect , data:`, data)\r\n            const orders = filterOrders(data);\r\n            setOrders(orders);\r\n\r\n        }\r\n\r\n        getOrdersByUserId();\r\n    }, []);\r\n\r\n    const filterOrders = (orders) => {\r\n        const filtredOrders = orders.filter(order => {\r\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSOR;\r\n        })\r\n        return filtredOrders;\r\n    }\r\n\r\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\r\n\r\n    const sendReview = async () => {\r\n        const reviewObj = {\r\n            itemID: selectedOrder.itemId,\r\n            lessee: {\r\n                userID: user._id,\r\n                fullName: `${user.firstName} ${user.lastName}`,\r\n                profileImg: user.profilepPic,\r\n            },\r\n            itemRate: ItemRate,\r\n            review: reviewMsg,\r\n\r\n        }\r\n        console.log(reviewObj);\r\n\r\n        const reviewSent = await Api.sendItemReview(reviewObj);\r\n        console.log('reviewSent', reviewSent);\r\n\r\n        handleClose();\r\n    }\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <h3 className=\"text-center\"> </h3>\r\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\r\n                {orders.map(order => {\r\n                    return (\r\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\r\n                            <Card className=\"p-2\">\r\n                                <Link to={`/item/${order.itemId}`}>\r\n                                    <Card.Img variant=\"top\" src={order.itemDetails.img} />\r\n                                    <Card.Body className=\"text-right\">\r\n                                        <Card.Title>{order.itemDetails.title}</Card.Title>\r\n                                        <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\r\n                                        <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\r\n                                    </Card.Body>\r\n                                </Link>\r\n                                <Card.Footer className=\"text-center\">\r\n                                    <Button onClick={() => {\r\n                                        setSelectedOrder(order);\r\n                                        setReviewMsg('');\r\n                                        setItemRate(3);\r\n                                        handleShow();\r\n                                    }}>\r\n                                          \r\n                                    </Button>\r\n                                </Card.Footer>\r\n\r\n                            </Card>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </CardGroup>\r\n\r\n            <Modal show={show} onHide={handleClose} >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title >  </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body dir=\"rtl\">\r\n                    <Rating\r\n                        initialRating={ItemRate}\r\n                        onChange={(rate) => setItemRate(rate)}\r\n                        emptySymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path fill-rule=\"evenodd\" d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\" />\r\n                        </svg>}\r\n                        fullSymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\r\n                        </svg>}\r\n                    />\r\n                    <Form.Control id=\"ReviewMsg\" onChange={(e) => setReviewMsg(e.target.value)} className='mt-2' placeholder=\"      \" as=\"textarea\" rows=\"3\" />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" onClick={sendReview} >\r\n                        \r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default HistoryLessee;","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, CardGroup, Card, Button, Modal, Badge } from 'react-bootstrap';\r\nimport { differenceInCalendarDays, differenceInHours, format } from 'date-fns';\r\nimport Api from '../Api';\r\n\r\nconst STATUSES = {\r\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\r\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\r\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\r\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\r\n};\r\n\r\nconst hebrewText = {\r\n    totalRentTime: ' : ',\r\n    totalPrice: ' ',\r\n    rentStart: ' ',\r\n    retnEnd: ' ',\r\n    lessorName: ' ',\r\n    status: '',\r\n    statusValue: {\r\n        NEW_BOOKING: ' ',\r\n        CONFIRM_BOOKING: ''\r\n    }\r\n};\r\n\r\nconst BookingLessee = ({ user }) => {\r\n    const [orders, setOrders] = useState([]);\r\n    const [show, setShow] = useState(false); // Modal toggle\r\n    const [selectedOrder, setSelectedOrder] = useState({});// selected by Modal onClick\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    //confirm receving item \r\n    const confirmOrder = async (orderID) => {\r\n        const userType = 'lessee';\r\n        const data = await Api.confirmReceivingItem(orderID, userType);\r\n        console.log(`confirmOrder, data:`, data)\r\n        const orders = filterOrders(data);\r\n        setOrders(orders);\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function getOrdersByUserId() {\r\n            const userType = 'lessee';\r\n            const data = await Api.getOrdersByUserId(user._id, userType);\r\n            console.log(`use effect , data:`, data)\r\n            const orders = filterOrders(data);\r\n            setOrders(orders);\r\n        }\r\n\r\n        getOrdersByUserId();\r\n    }, []);\r\n\r\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\r\n\r\n    function getTotalTime(start, end) {\r\n        const hourDiffenece = differenceInHours(new Date(end), new Date(start));\r\n        const dayDiffenece = differenceInCalendarDays(new Date(end), new Date(start));\r\n        if (hourDiffenece < 24) {\r\n            return ` ${hourDiffenece}`\r\n        } else {\r\n            return `  ${dayDiffenece}`\r\n        }\r\n    }\r\n\r\n    const filterOrders = (orders) => {\r\n        const filtredOrders = orders.filter(order => {\r\n            return order.status == STATUSES.NEW_BOOKING || order.status == STATUSES.CONFIRM_BOOKING;\r\n        })\r\n        return filtredOrders;\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <h3 className=\"text-center\"> </h3>\r\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\r\n                {orders.map(order => {\r\n                    const borders = {\r\n                        NEW_BOOKING: 'danger',\r\n                        CONFIRM_BOOKING: 'success',\r\n                    };\r\n                    const variantByStatus = (order.status == STATUSES.NEW_BOOKING) ? \"warning\" : \"success\";\r\n                    const borderColor = borders[order.status];\r\n                    const disableConfirmBTN = (order.status == STATUSES.NEW_BOOKING) ? true : false;\r\n                    return (\r\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\r\n                            <Card className=\"p-2\" border={borderColor}>\r\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\r\n                                <Card.Body className=\"text-right\">\r\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\r\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\r\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\r\n                                    <p>\r\n                                        {`${hebrewText.status}:`}\r\n                                        <Badge variant={variantByStatus}>{hebrewText.statusValue[order.status]}</Badge>\r\n                                    </p>\r\n                                </Card.Body>\r\n                                <Card.Footer className=\"text-center\">\r\n                                    <Button\r\n                                        onClick={() => confirmOrder(order._id)}\r\n                                        disabled={disableConfirmBTN}\r\n                                        variant={variantByStatus}\r\n                                        block >\r\n                                          \r\n                                    </Button>\r\n                                    <Button\r\n                                        variant=\"info\"\r\n                                        block\r\n                                        onClick={() => {\r\n                                            setSelectedOrder(order);\r\n                                            handleShow();\r\n                                        }}\r\n                                    >\r\n                                          \r\n\t\t\t\t\t\t\t\t\t</Button>\r\n                                </Card.Footer>\r\n                            </Card>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </CardGroup>\r\n\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>\r\n                        {(selectedOrder.itemDetails) ? selectedOrder.itemDetails.title : ''}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className=\"text-right\">\r\n                    <p>\r\n                        {hebrewText.totalRentTime}\r\n                        {getTotalTime(new Date(selectedOrder.startRent), new Date(selectedOrder.endRent))}\r\n                    </p>\r\n                    <p>{`${hebrewText.totalPrice}: ${selectedOrder.totalPrice}`}</p>\r\n                    <p>{`${hebrewText.lessorName}: ${selectedOrder.lesseeFullName}`}</p>\r\n                    {/* TODO: message to lessee */}\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                         \r\n\t\t\t\t\t</Button>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={handleClose}>\r\n                         \r\n\t\t\t\t\t</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </Container>\r\n    );\r\n\r\n}\r\n\r\nexport default BookingLessee;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, CardGroup, Card, Button } from 'react-bootstrap';\r\nimport { differenceInCalendarDays, format } from 'date-fns';\r\nimport Api from '../Api';\r\n\r\nconst STATUSES = {\r\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\r\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\r\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\r\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\r\n};\r\n\r\nconst hebrewText = {\r\n    totalDays: ' :',\r\n    totalPrice: ' ',\r\n    rentStart: ' ',\r\n    retnEnd: ' ',\r\n    lessorName: ' ',\r\n    status: '',\r\n    statusValue: {\r\n        NEW_BOOKING: '  ',\r\n        CONFIRM_BOOKING: ''\r\n    }\r\n};\r\n\r\nconst CurrentLessee = ({ user }) => {\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getOrdersByUserId() {\r\n            //get all orders where userID == lessorID\r\n            const userType = 'lessee';\r\n            const data = await Api.getOrdersByUserId(user._id, userType);\r\n            console.log(`use effect , data:`, data)\r\n            const orders = filterOrders(data);\r\n            setOrders(orders);\r\n\r\n        }\r\n\r\n        getOrdersByUserId();\r\n    }, []);\r\n\r\n    const filterOrders = (orders) => {\r\n        const filtredOrders = orders.filter(order => {\r\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSEE;\r\n        })\r\n        return filtredOrders;\r\n    }\r\n\r\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\r\n\r\n    return (\r\n        <Container>\r\n            <h3 className=\"text-center\"> </h3>\r\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\r\n                {orders.map(order => {\r\n                    return (\r\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\r\n                            <Card className=\"p-2\">\r\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\r\n                                <Card.Body className=\"text-right\">\r\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\r\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\r\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\r\n                                </Card.Body>\r\n                                <Card.Footer className=\"text-center\">\r\n                                    <Button> </Button>\r\n                                </Card.Footer>\r\n                            </Card>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </CardGroup>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default CurrentLessee;","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Container, Row, Col, Card, Image } from 'react-bootstrap';\r\nimport { format } from 'date-fns'\r\nimport Api from '../Api';\r\n\r\n\r\n\r\nconst MessagesList = ({ user }) => {\r\n\tconst [chats, setChats] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('use effect');\r\n\r\n\t\tasync function getChats() {\r\n\t\t\tlet newChats = [];\r\n\t\t\tconst chats = await Api.getChatsByUserId(user._id);\r\n\t\t\tfor (const chat of chats) {\r\n\t\t\t\tconst friendId = chat.participants.find(id => id !== user._id);\r\n\t\t\t\tconst friend = await Api.getUserById(friendId);\r\n\t\t\t\tconst lastMessage = await Api.getLastMessageByChatID(chat._id)\r\n\r\n\t\t\t\tnewChats.push({\r\n\t\t\t\t\tchat,\r\n\t\t\t\t\tfriend,\r\n\t\t\t\t\tlastMessage: lastMessage[0],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconsole.log('newChats', newChats)\r\n\r\n\t\t\tsetChats(newChats);\r\n\t\t}\r\n\r\n\t\tgetChats();\r\n\t}, []);\r\n\r\n\tfunction formatDate(date) {\r\n\t\treturn format(new Date(date), \"dd-MM-yyyy HH:mm\");\r\n\t}\r\n\r\n\tconst history = useHistory();\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t{chats.map(({ chat, friend, lastMessage }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Card key={chat._id} onClick={() => history.push(`messages/message/${chat._id}`)} className=\"mb-1\">\r\n\t\t\t\t\t\t<Card.Body as={Row} dir=\"rtl\" className=\"card-hover\">\r\n\t\t\t\t\t\t\t<Col md={1} sm={1} xs={2}>\r\n\t\t\t\t\t\t\t\t<Image src={friend.profilepPic} style={{ height: \"50px\", width: \"50px\" }} roundedCircle />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col md={{ span: 2, offset: 6 }} sm={3} xs={5} className=\"mt-2\">\r\n\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t{friend.firstName} {friend.lastName}\r\n\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col md={{ span: 2 }} sm={3} xs={5} className=\"text-muted mt-2\">\r\n\t\t\t\t\t\t\t\t{formatDate(lastMessage.message.date)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default MessagesList;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Container, Jumbotron, Row, Col, Button, Card, Image, Form } from 'react-bootstrap';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { format } from 'date-fns';\r\n\r\nimport Api from '../Api';\r\n\r\nconst Message = ({ user }) => {\r\n\tconst { id } = useParams();\r\n\tconst [messages, setMessages] = useState([]);\r\n\tconst [message, setMessage] = useState('');\r\n\tconst [friendOBJ, setFriend] = useState({});\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function getAllMessages() {\r\n\t\t\tconst data = await Api.getMessageByChatId(id);\r\n\t\t\tconsole.log('data', data);\r\n\t\t\tsetMessages(data);\r\n\r\n\t\t\tconst friendID = (data[0].sender._id != user._id) ? data[0].sender._id : data[0].receiver._id;\r\n\t\t\tconst friendObj = await Api.getUserById(friendID);\r\n\t\t\tsetFriend(friendObj);\r\n\r\n\t\t}\r\n\r\n\t\tgetAllMessages();\r\n\t}, []);\r\n\r\n\tconst onMessage = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tsetMessage(value);\r\n\t};\r\n\r\n\tconst sendMessage = e => {\r\n\t\te.preventDefault();\r\n\t\t// send message to server with socket\r\n\t\twindow.socket.emit('MESSAGE', { user, message, receiver: friendOBJ });\r\n\t\tdocument.getElementById('textAreaMSG').value = '';\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<h3></h3>\r\n\t\t\t<Jumbotron>\r\n\t\t\t\t{messages.map(messageObj => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Card className='bm-5' xl={8} className=\"mt-2\" message={messageObj._id}>\r\n\t\t\t\t\t\t\t<Card.Header as={Row} className=\"\" dir=\"rtl\">\r\n\t\t\t\t\t\t\t\t<Col md={{ span: 1, offset: 1 }} sm={3} xs={10} >\r\n\t\t\t\t\t\t\t\t\t<Image style={{ height: '85px', width: '85px' }} src={messageObj.sender.profilepPic} roundedCircle />\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col md={8} sm={8} xs={8} className=\"pt-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t<Card.Title>{`${messageObj.sender.firstName} ${messageObj.sender.lastName}`}</Card.Title>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t<Card.Body className=\"text-right\">\r\n\t\t\t\t\t\t\t\t<p >{messageObj.message.text}</p>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t<Card.Footer className=\"text-right\">{format(messageObj.message.date, 'dd-MM-yyyy HH:mm')}</Card.Footer>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t<Form className='mt-3' dir='rtl'>\r\n\t\t\t\t\t<h3 className='text-center'>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col xl='12'>\r\n\t\t\t\t\t\t\t<Form.Control as=\"textarea\" rows=\"3\" id=\"textAreaMSG\" name=\"message\" onChange={onMessage} placeholder='  ' />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col className='mt-3 ' xl='3' >\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={sendMessage} block >\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t</Form>\r\n\t\t\t</Jumbotron>\r\n\t\t</Container >\r\n\t);\r\n};\r\n\r\nexport default Message;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Container, Row, Col, Badge, CardGroup, Card } from 'react-bootstrap';\r\nimport Api from '../Api';\r\n\r\nconst Search = () => {\r\n    let { searchWord } = useParams();\r\n    const [items, setItems] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        async function searchItems() {\r\n            const data = await Api.getItemsBySearchWord(searchWord);\r\n            console.log(data);\r\n            setItems(data.items);\r\n        };\r\n\r\n        searchItems();\r\n    }, []);\r\n\r\n    function formatDate(date) {\r\n        const d = new Date(date);\r\n        return d.toLocaleString('en-GB');\r\n    }\r\n\r\n    return (\r\n        <Container >\r\n            <Row style={{ marginTop: '1%' }}>\r\n                <Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'large' }}>\r\n                     : {searchWord}\r\n                </Badge>\r\n            </Row>\r\n            <CardGroup as={Row} className=\"pt-3\">\r\n                {items.length > 0 && items.map((item, i) => {\r\n                    return (\r\n                        <Col xl={3} md={3} sm={6} xs={6}>\r\n                            <Card key={i}>\r\n                                <Link to={`/item/${item._id}`}>\r\n                                    <Card.Img variant=\"top\" src={item.mainImg} />\r\n                                    <Card.Body>\r\n                                        <Card.Title className=\"text-center\">\r\n                                            {item.title}\r\n                                            <p>\r\n                                                <Badge pill variant=\"primary\">: {item.priceHour}</Badge>\r\n                                                <br />\r\n                                                <Badge pill variant=\"primary\">: {item.priceDay}</Badge>\r\n                                            </p>\r\n\r\n                                        </Card.Title>\r\n                                    </Card.Body>\r\n                                </Link>\r\n                                <Card.Footer className=\"text-center\">\r\n                                    <small className=\"text-muted\">{formatDate(item.createdAt)}</small>\r\n                                </Card.Footer>\r\n                            </Card>\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </CardGroup>\r\n        </Container>\r\n\r\n    );\r\n}\r\n\r\nexport default Search;","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loading = () => {\r\n\r\n    return (\r\n        <div className=\"text-center mt-5\">\r\n            <h2>Loading...</h2>\r\n            <Spinner animation=\"border\" role=\"status\" size=\"xl\">\r\n            </Spinner>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading;","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\n\r\n// Route - render component base on path\r\nimport { Route, useHistory, Switch } from 'react-router-dom';\r\n\r\nimport io from 'socket.io-client';\r\n\r\n// import component\r\nimport MainNavbar from './componets/MainNavbar';\r\nimport FooterCont from './componets/FooterCont';\r\n\r\nimport Home from './pages/Home';\r\nimport Register from './pages/Register';\r\nimport Help from './pages/Help';\r\nimport AddItem from './pages/AddItem';\r\nimport PrivatePage from './pages/Private';\r\nimport CategoryPage from './pages/Category';\r\nimport Item from './pages/Item';\r\nimport LessorItems from './pages/LessorItems';\r\nimport BookingLessor from './pages/BookingLessor';\r\nimport CurrentLessor from './pages/CurrentLessor';\r\nimport HistoryLessor from './pages/HistoryLessor';\r\nimport HistoryLessee from './pages/historyLessee';\r\nimport BookingLessee from './pages/BookingLessee';\r\nimport CurrentLessee from './pages/CurrentLessee';\r\nimport MessagesList from './pages/MessagesList';\r\nimport Message from './pages/Message';\r\nimport Search from './pages/Search';\r\n\r\nimport Loading from './componets/Loading';\r\nimport Api from './Api';\r\n\r\nfunction App() {\r\n\tconst [user, setUser] = useState(null);\r\n\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [messages, setMessage] = useState([]);\r\n\r\n\tconst history = useHistory();\r\n\r\n\t// when user login -> save user object in state\r\n\tconst onLogin = newUser => setUser(newUser);\r\n\r\n\t// when user log out -> delete user object and token\r\n\tconst onLogout = () => {\r\n\t\tsetUser(null);\r\n\t\tlocalStorage.removeItem('token');\r\n\r\n\t\t//redirect to homePage when logOut\r\n\t\thistory.push('/');\r\n\t};\r\n\r\n\t// use effect run after render\r\n\tuseEffect(() => {\r\n\t\tasync function getCurrent() {\r\n\t\t\tconst token = localStorage.getItem('token');\r\n\t\t\tif (!token) {\r\n\t\t\t\treturn setLoading(false);\r\n\t\t\t}\r\n\t\t\t// let baseUrl = 'localhost:4000';\r\n\t\t\t// if (process.env.NODE_ENV === 'production') {\r\n\t\t\t// \tbaseUrl = 'glacial-cliffs-91994.herokuapp.com';\r\n\t\t\t// }\r\n\t\t\t// window.socket = io(`https://${baseUrl}?token=${token}`);\r\n\t\t\twindow.socket = io(`?token=${token}`);\r\n\t\t\twindow.socket.on('connect', () => {\r\n\t\t\t\tconsole.log('client id', window.socket.id);\r\n\t\t\t});\r\n\r\n\t\t\twindow.socket.on('MESSAGE', data => {\r\n\t\t\t\tconsole.log('on Message', data);\r\n\t\t\t});\r\n\r\n\t\t\tconst user = await Api.getCurrentUser();\r\n\t\t\tconsole.log('current:', user)\r\n\t\t\tconsole.log('curre111111111nt')\r\n\r\n\t\t\tsetUser(user);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\r\n\t\tgetCurrent();\r\n\r\n\t}, []);\r\n\r\n\t//loading page effect\r\n\tif (loading) {\r\n\t\t// wait until fetch current user finish\r\n\t\treturn <Loading />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<MainNavbar onLogin={onLogin} user={user} onLogout={onLogout} className=\" mb-3\" />\r\n\t\t\t<div>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\r\n\t\t\t\t\t<Route exact path=\"/addItem\" component={AddItem} />\r\n\t\t\t\t\t<Route exact path=\"/help\" component={Help} />\r\n\t\t\t\t\t<Route exact path=\"/messages\">\r\n\t\t\t\t\t\t<MessagesList user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/messages/message/:id\">\r\n\t\t\t\t\t\t<Message user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/register\">\r\n\t\t\t\t\t\t<Register onLogin={onLogin} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/search/:searchWord\">\r\n\t\t\t\t\t\t<Search />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t{/* lessor section */}\r\n\t\t\t\t\t<Route exact path='/edit_items'>\r\n\t\t\t\t\t\t<LessorItems user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/private/lessor/booking\">\r\n\t\t\t\t\t\t<BookingLessor user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/private/lessor/current_rent\">\r\n\t\t\t\t\t\t<CurrentLessor user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/private/lessor/history\">\r\n\t\t\t\t\t\t<HistoryLessor user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t{/* lessee section */}\r\n\t\t\t\t\t<Route exact path=\"/private/lessee/booking\">\r\n\t\t\t\t\t\t<BookingLessee user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/private/lessee/current_rent\">\r\n\t\t\t\t\t\t<CurrentLessee user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/private/lessee/history\">\r\n\t\t\t\t\t\t<HistoryLessee user={user} />\r\n\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t<Route path=\"/private\" component={PrivatePage} />\r\n\t\t\t\t\t<Route exact path=\"/category/:id\">\r\n\t\t\t\t\t\t<CategoryPage />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/item/:id\">\r\n\t\t\t\t\t\t<Item user={user} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t\t<footer className=\"sticky-bottom mt-5\">\r\n\t\t\t\t<FooterCont />\r\n\t\t\t</footer>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker'; //?\r\nimport 'bootstrap/dist/css/bootstrap.min.css'; // react-bootstrap css\r\n// BrowserRouter listen to url change, and re-render Route components\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n\t// <React.StrictMode>\r\n\t<BrowserRouter>\r\n\t\t<App />\r\n\t</BrowserRouter>,\r\n\t// </React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}