{"version":3,"sources":["Api/index.js","componets/MainNavbar.js","componets/FooterCont.js","pages/Home.js","pages/Register.js","pages/Help.js","pages/AddItem.js","pages/Lessee.js","pages/Lessor.js","pages/Private.js","pages/Category.js","pages/Item.js","pages/LessorItems.js","pages/BookingLessor.js","pages/CurrentLessor.js","pages/HistoryLessor.js","pages/historyLessee.js","pages/BookingLessee.js","pages/CurrentLessee.js","pages/MessagesList.js","pages/Message.js","pages/Search.js","componets/Loading.js","App.js","serviceWorker.js","index.js"],"names":["myFetch","url","method","body","a","token","localStorage","getItem","options","headers","JSON","stringify","undefined","fetch","res","json","data","err","message","api","getOrdersByUserId","userId","userType","getOrdersByItemId","itemID","getItemsBySearchWord","word","confirmReceivingItem","orderId","approveBooking","sendItemReview","getReviews","id","login","getCurrentUser","getUserById","getCategories","getProductsByCategoryId","getDataHomePage","getItemById","addNewItem","addNewUser","addNewOrder","getItemsByLessorID","getMessageByChatId","getChatsByUserId","getFooterData","getLastMessageByChatID","chatID","links","text","isPrivate","to","MainNavbar","onLogin","onLogout","user","useState","show","setShow","form","setForm","handleClose","handleShow","history","useHistory","handleLogin","event","preventDefault","Api","setItem","window","socket","io","on","console","log","Navbar","sticky","bg","expand","Col","xl","md","sm","xs","Brand","as","Link","src","width","height","className","Badge","pill","variant","firstName","span","offset","Toggle","aria-controls","Collapse","Nav","dir","map","link","onClick","e","handleLink","Button","size","Modal","onHide","Header","closeButton","Title","Body","Form","onSubmit","onChange","target","name","value","Row","Label","lg","column","Control","type","placeholder","Footer","push","FooterCont","props","totalItems","setTotalItems","totalDeals","setTotalDeals","totalUsers","setTotaUsers","useEffect","totalOrders","Container","Media","Table","striped","bordered","hover","style","img","Home","products","setProducts","categories","setCategories","searchWorld","setSearchWorld","newProducts","marginTop","fontSize","CardGroup","category","i","_id","Card","Img","product","key","mainImg","title","date","createdAt","Date","toLocaleString","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","Register","files","newImages","document","querySelector","classList","remove","fluid","maxWidth","FormGroup","FormLabel","minlength","required","pattern","File","Image","profilepPic","alt","roundedCircle","block","Help","Accordion","eventKey","marginBottom","AddItem","showImgSection","image","msg","rows","maxlength","cat","min","step","max","multiple","images","Check","rounded","Lessee","Alert","Lessor","Private","path","match","fill","Item","exact","Category","useParams","categoryTitle","setCategoryTitle","itemsByCategory","getProducts","priceHour","priceDay","moment","locale","item","lessor","setLessor","index","setIndex","startDate","setStartDate","endDate","setEndDate","reviews","setReviews","setMessage","totalPrice","setTotalPrice","itemOrders","setItemOrders","totalLessorData","setTotalLessorData","userExist","userIsLessor","varientBtn","itemDetails","totalItemsOwn","totalLessorOrders","getItemDetails","getItemsOrders","scrollTo","formatDate","d","slice","getValid","current","yesterday","Datetime","subtract","isAfter","calculateTotalPrice","hourDiffenece","differenceInHours","dayDiffenece","differenceInCalendarDays","Number","startRent","endRent","lastName","Text","disabled","Carousel","activeIndex","onSelect","selectedIndex","interval","maxHeight","border","description","length","isValidDate","inputProps","format","onBlur","review","lessee","profileImg","thumbnail","fullName","readonly","initialRating","itemRate","emptySymbol","viewBox","class","xmlns","fill-rule","fullSymbol","emit","receiver","LessorItems","items","setItems","selectedItem","setSelectedItem","lessorID","hebrewText","totalRentTime","rentStart","retnEnd","lessorName","status","statusValue","NEW_BOOKING","CONFIRM_BOOKING","STATUSES","BookingLessor","orders","setOrders","selectedOrder","setSelectedOrder","approveOrder","filterOrders","dateFormate","filter","order","borderColor","variantByStatus","start","end","getTotalTime","lesseeFullName","CurrentLessor","confirmOrder","orderID","HistoryLessor","HistoryLessee","ItemRate","setItemRate","reviewMsg","setReviewMsg","sendReview","reviewObj","itemId","userID","reviewSent","rate","BookingLessee","disableConfirmBTN","CurrentLessee","MessagesList","chats","setChats","newChats","chat","friendId","participants","find","friend","lastMessage","getChats","Message","messages","setMessages","friendOBJ","setFriend","onMessageSocket","friendID","sender","friendObj","getAllMessages","off","Jumbotron","messageObj","newMessage","getElementById","Search","searchWord","searchItems","Loading","Spinner","animation","role","App","setUser","loading","setLoading","newUser","getCurrent","removeItem","component","PrivatePage","Boolean","location","hostname","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.f42ae63b.chunk.js","sourcesContent":["async function myFetch(url, method, body) {\n\ttry {\n\t\tconst token = localStorage.getItem('token');\n\t\tconst options = {\n\t\t\theaders: { 'Content-Type': 'application/json', token: token },\n\t\t\tmethod: method || 'GET',\n\t\t};\n\t\toptions.body = body ? JSON.stringify(body) : undefined;\n\n\t\tlet baseUrl = '/api';\n\n\t\tconst res = await fetch(`${baseUrl}${url}`, options);\n\t\tconst data = await res.json();\n\t\treturn data;\n\t} catch (err) {\n\t\treturn {\n\t\t\terr: err.message,\n\t\t};\n\t}\n}\n\nfunction Api() {\n\treturn {\n\t\tgetOrdersByUserId: async (userId, userType) => {\n\t\t\tconst data = await myFetch(`/products/ordersByUserId?id=${userId}&userType=${userType}`);\n\t\t\treturn data;\n\t\t},\n\n\t\tgetOrdersByItemId: async itemID => {\n\t\t\tconst data = await myFetch(`/products/ordersByItemId?id=${itemID}`);\n\t\t\treturn data;\n\t\t},\n\n\t\tgetItemsBySearchWord: async word => {\n\t\t\tconst data = await myFetch(`/products/itemsBySearch?searchWord=${word}`);\n\t\t\treturn data;\n\t\t},\n\n\t\tconfirmReceivingItem: async (orderId, userType) => {\n\t\t\tconst data = await myFetch('/orders/confirmReceiveItem', 'POST', { userType, orderId });\n\t\t\treturn data;\n\t\t},\n\n\t\tapproveBooking: async orderId => {\n\t\t\tconst userType = 'lessor';\n\t\t\tconst data = await myFetch('/orders/approveBooking', 'POST', { orderId, userType });\n\t\t\treturn data;\n\t\t},\n\n\t\tsendItemReview: async body => myFetch('/products/addReview', 'POST', body),\n\n\t\tgetReviews: async id => myFetch(`/products/getReview?itemID=${id}`),\n\n\t\tlogin: async body => {\n\t\t\tconst data = await myFetch('/auth/login', 'POST', body);\n\t\t\treturn data;\n\t\t},\n\n\t\t// users\n\t\tgetCurrentUser: async () => await myFetch('/auth/currentUser'),\n\n\t\tgetUserById: async id => await myFetch(`/users/${id}`),\n\n\t\tgetCategories: async () => await myFetch('/products/categories'),\n\n\t\tgetProductsByCategoryId: async id => await myFetch(`/products/category/${id}`),\n\n\t\tgetDataHomePage: async () => await myFetch('/products/homePage'),\n\n\t\tgetItemById: async id => await myFetch(`/products/item/${id}`),\n\n\t\taddNewItem: async body => await myFetch('/products/addItem', 'POST', body),\n\n\t\taddNewUser: async body => await myFetch('/auth/signup', 'POST', body),\n\n\t\taddNewOrder: async body => {\n\t\t\tconst data = await myFetch('/products/orderItem', 'POST', body);\n\t\t\treturn data;\n\t\t},\n\n\t\tgetItemsByLessorID: async userId => {\n\t\t\tconst data = await myFetch(`/products/getItemsByLessorID?id=${userId}`);\n\t\t\treturn data;\n\t\t},\n\n\t\tgetMessageByChatId: async id => myFetch(`/messages/chat/${id}`),\n\n\t\tgetChatsByUserId: async id => await myFetch(`/chats/user/${id}`),\n\n\t\tgetFooterData: async () => await myFetch('/footerData'),\n\n\t\tgetLastMessageByChatID: async chatID => await myFetch(`/messages/chatLastMsg/${chatID}`),\n\t};\n}\n\nconst api = Api();\n\nexport default api;\n","import React, { useState } from 'react';\n// NavLink - change url\nimport { Link, useHistory } from 'react-router-dom';\nimport { Navbar, Nav, Col, Button, Modal, Form, Badge } from 'react-bootstrap';\n\nimport Api from '../Api';\n\nimport io from 'socket.io-client';\n\n// array of all link, every link have text, path and isPrivate(boolean if it private only logged in user can access )\nconst links = [\n\t{ text: '', isPrivate: false, to: '/' },\n\t{ text: '', isPrivate: true, to: '/messages' },\n\t{ text: ' ', isPrivate: true, to: '/private' },\n\t{ text: '', isPrivate: false, to: '/help' },\n];\n\nfunction MainNavbar({ onLogin, onLogout, user }) {\n\t//login modal (pop-up)\n\tconst [show, setShow] = useState(false);\n\tconst [form, setForm] = useState({});\n\n\t//handle close/open of login modal\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\n\tconst ToggleLogin = () => {\n\t\t// if user exists -> log out\n\t\tif (user) return onLogout();\n\n\t\t// if user not  exists -> show modal login\n\t\thandleShow();\n\t};\n\n\t// create history instance\n\tconst history = useHistory();\n\tconst toRegister = () => {\n\t\thandleClose();\n\t\thistory.push('/register');\n\t};\n\n\tconst handleLogin = async event => {\n\t\t// login flow ->\n\n\t\tevent.preventDefault();\n\n\t\t// call login api\n\t\tconst data = await Api.login(form);\n\t\tlocalStorage.setItem('token', data.token);\n\n\t\tlet baseUrl = 'localhost:4000';\n\t\tif (process.env.NODE_ENV === 'production') {\n\t\t\tbaseUrl = 'glacial-cliffs-91994.herokuapp.com';\n\t\t}\n\n\t\twindow.socket = io(`?token=${data.token}`);\n\t\twindow.socket.on('connect', () => {\n\t\t\tconsole.log('client id', window.socket.id);\n\t\t});\n\n\t\twindow.socket.on('MESSAGE', data => {\n\t\t\tconsole.log('on Message', data);\n\t\t});\n\n\t\t// close modal\n\t\thandleClose();\n\n\t\t// save token local storage for next api calls\n\t\tlocalStorage.setItem('token', data.token);\n\t\t// update use state in App Component\n\t\tonLogin(data.user);\n\t};\n\n\t// on link clicked\n\tconst handleLink = (event, link) => {\n\t\t// if user not logged and route is private prevent redirect and show login modal\n\t\tif (link.isPrivate && !user) {\n\t\t\tevent.preventDefault();\n\t\t\t// show pop up\n\t\t\thandleShow();\n\t\t}\n\t};\n\n\tconst onChange = event => {\n\t\tconst { name, value } = event.target;\n\t\tsetForm({ ...form, [name]: value });\n\t};\n\n\treturn (\n\t\t<Navbar sticky=\"top\" bg=\"light\" expand=\"md\">\n\t\t\t<Col xl={2} md={2} sm={2} xs={2}>\n\t\t\t\t<Navbar.Brand as={Link} to=\"/\">\n\t\t\t\t\t<img src=\"/logo1.png\" width=\"45\" height=\"45\" className=\"d-inline-block align-top\" />\n\t\t\t\t\t{user ? (\n\t\t\t\t\t\t<Badge pill variant=\"light\" className=\"pl-3 mt-2\">\n\t\t\t\t\t\t\t,{user.firstName}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t</Navbar.Brand>\n\t\t\t</Col>\n\t\t\t<Col xl={{ span: 4, offset: 6 }} md={{ span: 5, offset: 5 }} sm={{ span: 2, offset: 8 }} xs={{ span: 3, offset: 7 }}>\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav \">\n\t\t\t\t\t<Nav dir=\"rtl\" className=\"mr-auto\">\n\t\t\t\t\t\t{links.map(link => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Nav.Link as={Link} to={link.to} onClick={e => handleLink(e, link)}>\n\t\t\t\t\t\t\t\t\t{link.text}\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t<Button variant={user ? 'outline-danger' : 'outline-primary'} size=\"sm\" onClick={ToggleLogin}>\n\t\t\t\t\t\t\t{user ? '' : ''}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Col>\n\n\t\t\t{/******  modal login section ******/}\n\t\t\t<Modal show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title> </Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form dir=\"rtl\" onSubmit={handleLogin} onChange={onChange}>\n\t\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t\t<Form.Label lg={2} md={2} column=\"sm\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"email\" name=\"email\" placeholder=\"    \" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t\t<Form.Label lg={2} md={2} column=\"sm\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"password\" name=\"password\" placeholder=\" \" />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t\t<Col className=\"p10\" xl={{ span: 8, offset: 2 }} md={{ span: 8, offset: 2 }} xs={12}>\n\t\t\t\t\t\t\t\t<Button type=\"submit\" name=\"login\" variant=\"primary\" size=\"sm\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<col xl={{ offset: 2 }} md={{ offset: 2 }}></col>\n\t\t\t\t\t\t</Form.Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button onClick={toRegister} size=\"sm\" variant=\"secondary\">\n\t\t\t\t\t\t \n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</Navbar>\n\t);\n}\n\nexport default MainNavbar;\n","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Media, Button, Table } from 'react-bootstrap';\nimport Api from '../Api';\n\nfunction FooterCont(props) {\n\n\tconst [totalItems, setTotalItems] = useState(0);\n\tconst [totalDeals, setTotalDeals] = useState(0);\n\tconst [totalUsers, setTotaUsers] = useState(0);\n\n\tuseEffect(() => {\n\t\tasync function getFooterData() {\n\t\t\tconst data = await Api.getFooterData();\n\t\t\tsetTotaUsers(data.totalUsers);\n\t\t\tsetTotalDeals(data.totalOrders);\n\t\t\tsetTotalItems(data.totalItems);\n\t\t}\n\n\t\tgetFooterData();\n\t}, []);\n\n\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row dir=\"rtl\">\n\t\t\t\t<Col xl={3} md={3} sm={10} xs={10} className=\"text-right\">\n\t\t\t\t\t<Media as=\"li\">\n\t\t\t\t\t\t<Media.Body>\n\t\t\t\t\t\t\t<Button className='text-right' variant=\"light\"></Button>\n\t\t\t\t\t\t</Media.Body>\n\t\t\t\t\t</Media>\n\t\t\t\t\t<Media as=\"li\">\n\t\t\t\t\t\t<Media.Body>\n\t\t\t\t\t\t\t<Button className='text-right' variant=\"light\"> </Button>\n\t\t\t\t\t\t</Media.Body>\n\t\t\t\t\t</Media>\n\t\t\t\t\t<Media as=\"li\">\n\t\t\t\t\t\t<Media.Body>\n\t\t\t\t\t\t\t<Button className='text-right' variant=\"light\"> </Button>\n\t\t\t\t\t\t</Media.Body>\n\t\t\t\t\t</Media>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={4} md={4} sm={10} xs={10}>\n\t\t\t\t\t<h3 className='text-center'> </h3>\n\t\t\t\t\t<Table striped bordered hover>\n\t\t\t\t\t\t<tbody className='text-right'>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td> </td>\n\t\t\t\t\t\t\t\t<td>{totalUsers}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\" </td>\n\t\t\t\t\t\t\t\t<td>{totalItems}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td> </td>\n\t\t\t\t\t\t\t\t<td>{totalDeals}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={4} md={4} sm={10} xs={10}>\n\t\t\t\t\t<h5 className='text-center  font-weight-bold'> </h5>\n\t\t\t\t\t<Row className=' mt-3 '>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Media as=\"li\">\n\t\t\t\t\t\t\t\t<Media.Body>\n\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/036-facebook.svg\"} style={{ width: '75px ', height: '75px' }} />\n\t\t\t\t\t\t\t\t</Media.Body>\n\t\t\t\t\t\t\t</Media>\n\t\t\t\t\t\t\t<Media as=\"li\">\n\t\t\t\t\t\t\t\t<Media.Body>\n\t\t\t\t\t\t\t\t\t<img img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/001-youtube.svg\"} style={{ width: '75px ', height: '75px' }} />\n\t\t\t\t\t\t\t\t</Media.Body>\n\t\t\t\t\t\t\t</Media>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Media as=\"li\">\n\t\t\t\t\t\t\t\t<Media.Body>\n\t\t\t\t\t\t\t\t\t<img img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/008-twitter.svg\"} style={{ width: '75px ', height: '75px' }} />\n\t\t\t\t\t\t\t\t</Media.Body>\n\t\t\t\t\t\t\t</Media>\n\t\t\t\t\t\t\t<Media as=\"li\">\n\t\t\t\t\t\t\t\t<Media.Body>\n\t\t\t\t\t\t\t\t\t<img img className=\"img-fluid\" src={process.env.PUBLIC_URL + \"/029-instagram.svg\"} style={{ width: '75px ', height: '75px' }} />\n\t\t\t\t\t\t\t\t</Media.Body>\n\t\t\t\t\t\t\t</Media>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n\nexport default FooterCont;","import React, { useState, useEffect } from 'react';\nimport { Card, Button, Container, Row, CardDeck, CardGroup, Col, Badge, Form } from 'react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport Api from '../Api';\n\nfunction Home(props) {\n\tlet [products, setProducts] = useState([]);\n\tlet [categories, setCategories] = useState([]);\n\tlet [searchWorld, setSearchWorld] = useState('');\n\n\tconst history = useHistory();\n\n\tfunction submitSearch() {\n\t\thistory.push(`/search/${searchWorld}`);\n\t}\n\n\t// run after every render (by default)\n\tuseEffect(() => {\n\t\tconsole.log('useEffect');\n\n\t\tasync function getDataHomePage() {\n\n\t\t\tconst data = await Api.getDataHomePage();\n\t\t\tconsole.log('data', data);\n\n\t\t\tsetProducts(data.newProducts);\n\t\t\tsetCategories(data.categories);\n\t\t}\n\n\t\tgetDataHomePage(); // function call\n\t}, []);\n\n\tfunction formatDate(date) {\n\t\tconst d = new Date(date);\n\t\treturn d.toLocaleString('en-GB');\n\t}\n\n\tconsole.log('categories', categories);\n\tconsole.log('products', products);\n\n\treturn (\n\t\t<Container>\n\t\t\t<Container\n\t\t\t\tclassName=\"search \"\n\t\t\t\tstyle={{\n\t\t\t\t\tmarginTop: '1%',\n\t\t\t\t}}>\n\t\t\t\t<Form.Row className=\"align-middle\">\n\t\t\t\t\t<Col xl={{ span: 6, offset: 2 }} md={{ span: 6, offset: 2 }} sm={{ span: 6, offset: 2 }} xs={{ span: 6, offset: 2 }}>\n\t\t\t\t\t\t<Form.Control onChange={e => setSearchWorld(e.target.value)} type=\"text\" size={'sm'} dir=\"rtl\" placeholder=\" \" />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Button size={'sm'} onClick={submitSearch}>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col>\n\t\t\t\t</Form.Row>\n\t\t\t</Container>\n\t\t\t<Container className=\"categories\">\n\t\t\t\t<Row style={{ marginTop: '1%' }}>\n\t\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'medium' }}>\n\t\t\t\t\t\t\n\t\t\t\t\t</Badge>\n\t\t\t\t</Row>\n\t\t\t\t<CardGroup as={Row} className=\"pt-3\">\n\t\t\t\t\t{categories.map((category, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6}>\n\t\t\t\t\t\t\t\t<Link to={`/category/${category._id}`}>\n\t\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={category.img} />\n\n\t\t\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t<small className=\"text-muted\">{category.name}</small>\n\t\t\t\t\t\t\t\t\t\t</Card.Footer>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</CardGroup>\n\t\t\t</Container>\n\t\t\t<Container className=\"trending\"></Container>\n\t\t\t<Container className=\"newest\">\n\t\t\t\t<Row className=\"pt-3\">\n\t\t\t\t\t<Badge as={Col} variant=\"dark\" style={{ fontSize: 'medium' }}>\n\t\t\t\t\t\t \n\t\t\t\t\t</Badge>\n\t\t\t\t</Row>\n\t\t\t\t<CardGroup as={Row} className=\"pt-3\">\n\t\t\t\t\t{products.map((product, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6}>\n\t\t\t\t\t\t\t\t<Card key={i}>\n\t\t\t\t\t\t\t\t\t<Link to={`/item/${product._id}`}>\n\t\t\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={product.mainImg} />\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>{product.title}</Card.Title>\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t<small className=\"text-muted\">{formatDate(product.createdAt)}</small>\n\t\t\t\t\t\t\t\t\t</Card.Footer>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</CardGroup>\n\t\t\t</Container>\n\t\t</Container>\n\t);\n}\n\nexport default Home;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Container, Row, Col, Button, Form, FormGroup, FormLabel, Image } from 'react-bootstrap';\nimport Api from '../Api';\n\nconst toBase64 = file =>\n\tnew Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onload = () => resolve(reader.result);\n\t\treader.onerror = error => reject(error);\n\t});\n\nfunction Register({ onLogin }) {\n\tconst [form, setForm] = useState({});\n\tconst history = useHistory();\n\n\tasync function onChange(e) {\n\t\tconst { name, value, files } = e.target;\n\n\t\t// handle img  file input\n\t\tif (name == 'profilepPic') {\n\t\t\tlet newImages = '';\n\t\t\tif (files) {\n\t\t\t\t// console.log(files)\n\t\t\t\t//  convert it to base64\n\t\t\t\tnewImages = await toBase64(files[0]);\n\t\t\t}\n\t\t\t//preview img\n\t\t\tconst showImgSection = document.querySelector('#profileImg');\n\t\t\tshowImgSection.classList.remove('invisible');\n\t\t\t// update state with new files of base64\n\t\t\treturn setForm({ ...form, [name]: newImages });\n\t\t}\n\n\t\t// handle other  input's\n\t\tsetForm({ ...form, [name]: value });\n\t\tconsole.log(form);\n\t}\n\n\tasync function onSubmit(e) {\n\t\te.preventDefault();\n\t\tconsole.log('form:', form);\n\n\t\t// send request to server register new user\n\t\tconst data = await Api.addNewUser(form)\n\t\tconsole.log('from server', data);\n\n\t\t// save token local storage for next api calls\n\t\tlocalStorage.setItem('token', data.token);\n\t\t// update use state in App Component\n\t\tonLogin(data.user);\n\n\t\t// redirect to homePage\n\t\thistory.push('/');\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Form onChange={onChange} onSubmit={onSubmit} dir=\"rtl\">\n\t\t\t\t<Container fluid={true} className={'border-right border-left px-5'} style={{ maxWidth: '430px' }}>\n\t\t\t\t\t<Form.Row>\n\t\t\t\t\t\t<FormGroup as={Col} className=\"text-center\">\n\t\t\t\t\t\t\t<FormLabel> :</FormLabel>\n\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"firstName\" placeholder=\"  \" minlength=\"2\" required />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup as={Col} className=\" text-center\">\n\t\t\t\t\t\t\t<FormLabel> :</FormLabel>\n\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"lastName\" placeholder=\"  \" minlength=\"2\" required />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\n\t\t\t\t\t\t<FormLabel> :</FormLabel>\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"email\" name=\"email\" placeholder=\"  \" required />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\n\t\t\t\t\t\t<FormLabel>:</FormLabel>\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"password\" name=\"password\" placeholder=\"  \" required />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\n\t\t\t\t\t\t<FormLabel> :</FormLabel>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\ttype=\"tel\"\n\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\tpattern=\"[0-9]{3}-[0-9]{7}\"\n\t\t\t\t\t\t\tplaceholder=\"  888-8888888\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup as={Row} className=\"text-right\">\n\t\t\t\t\t\t<FormLabel> </FormLabel>\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"city\" placeholder=\"   \" minlength=\"2\" required />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup as={Row} className=\"image\">\n\t\t\t\t\t\t<FormLabel>  </FormLabel>\n\t\t\t\t\t\t<Form.File name=\"profilepPic\" />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<Row className=\"justify-content-center invisible\" id=\"profileImg\">\n\t\t\t\t\t\t<Image width=\"170\" height=\"180\" src={form.profilepPic} alt=\"prev\" roundedCircle />\n\t\t\t\t\t</Row>\n\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" size=\"md\" block>\n\t\t\t\t\t\t\n\t\t\t\t\t</Button>\n\t\t\t\t</Container>\n\t\t\t</Form>\n\t\t</Container>\n\t);\n}\n\nexport default Register;\n","import React from 'react';\nimport {Accordion, Card, Button, Container, Row, Badge, Col} from 'react-bootstrap';\n\nfunction Help(props){\n    return(\n        <Container fluid={true} style={ {maxWidth: '1100px'}}>\n            <Row style={{ marginTop: '1%' }}>\n\t\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'medium' }}>\n\t\t\t\t\t\t \n\t\t\t\t\t</Badge>\n\t\t\t</Row>\n            <Accordion style={{ marginTop: '1%' }} className=\"text-right\" dir=\"rtl\">\n                <Card>\n                    <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n                              \n                        </Accordion.Toggle>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey=\"0\">\n                        <Card.Body>Hello! I'm the body</Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <Card>\n                    <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n                              \n                        </Accordion.Toggle>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey=\"1\">\n                        <Card.Body>Hello! I'm another body</Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <Card>\n                    <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\n                              \n                        </Accordion.Toggle>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey=\"2\">\n                        <Card.Body>Hello! I'm the body</Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <Card>\n                    <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\">\n                               \n                        </Accordion.Toggle>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey=\"3\">\n                        <Card.Body>Hello! I'm another body</Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <Card>\n                    <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"4\">\n                              \n                        </Accordion.Toggle>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey=\"4\">\n                        <Card.Body>Hello! I'm the body</Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <Card style={{marginBottom: '1%'}}>\n                    <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"5\">\n                               \n                        </Accordion.Toggle>\n                    </Card.Header>\n                    <Accordion.Collapse eventKey=\"5\">\n                        <Card.Body>Hello! I'm another body</Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n        </Accordion>\n    </Container>\n    )\n}\n\nexport default Help;","import React, { useState, useEffect } from 'react';\n// history hook for use browser history api\nimport { useHistory } from 'react-router-dom';\nimport { Form, FormGroup, FormLabel, Button, Container, Col, Row, Image } from 'react-bootstrap';\n\nimport Api from '../Api';\n\n//TODO: add user id in serverSide (db->products.js)\n\n// convert file to base64\nconst toBase64 = file =>\n\tnew Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onload = () => resolve(reader.result);\n\t\treader.onerror = error => reject(error);\n\t});\n\nfunction AddItem() {\n\t//add creation time of item\n\t//time format \"dd/mm/yyyy\"\n\tconst [form, setForm] = useState({});\n\n\tconst [categories, setCategories] = useState([]);\n\n\t// create history instance\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\tasync function getCategories() {\n\t\t\tconst data = await Api.getCategories();\n\t\t\tif (data.err) {\n\t\t\t\t// handle error\n\t\t\t\tconsole.log('getCategories', data.err.msg)\n\t\t\t}\n\n\t\t\tconsole.log('data', data);\n\t\t\tsetCategories(data['categories']);\n\t\t}\n\t\tgetCategories(); // function call\n\t}, []);\n\n\t// on form change callback\n\tasync function onChange(event) {\n\t\t// read data from input that changed (event.target)\n\t\tconst { name, value, files } = event.target;\n\n\t\t// handle change for input name images\n\t\tif (name == 'images') {\n\t\t\tconst showImgSection = document.querySelector('#imagesPreviwTitle');\n\t\t\tconst newImages = [];\n\t\t\tif (files) {\n\t\t\t\t// for every file that user upload, convert it to base64\n\t\t\t\tfor (let image of files) {\n\t\t\t\t\tconst res = await toBase64(image);\n\t\t\t\t\tnewImages.push(res);\n\t\t\t\t}\n\t\t\t\t//show title on image preview\n\t\t\t\tshowImgSection.classList.remove('invisible');\n\t\t\t}\n\t\t\t// update state with new files of base64\n\t\t\treturn setForm({ ...form, [name]: newImages });\n\t\t}\n\t\t// other inputs handler\n\t\tsetForm({ ...form, [name]: value });\n\t}\n\n\tasync function onSubmit(event) {\n\t\t// prevent form refresh page (default behavior of html forms)\n\t\tevent.preventDefault();\n\n\t\t// send request to server add new product\n\t\tconst data = await Api.addNewItem(form);\n\t\tif (data.err) {\n\t\t\t// handle error\n\t\t\tconsole.log('getCategories', data.err.msg)\n\t\t}\n\t\tconsole.log('data', data);\n\n\t\t// use history instance for redirect to private page\n\t\thistory.push('/private');\n\t}\n\n\tconsole.log('form', form);\n\treturn (\n\t\t<Container>\n\t\t\t<form onChange={onChange} onSubmit={onSubmit} dir=\"rtl\">\n\t\t\t\t<Container fluid={true} className={'border-right border-left px-5'} style={{ maxWidth: '430px' }}>\n\t\t\t\t\t<FormGroup as={Row} className=\"title\">\n\t\t\t\t\t\t<FormLabel>:</FormLabel>\n\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" name=\"title\" placeholder=\" \" minlength=\"2\" required />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup as={Row} size=\"sm\" className=\"description\">\n\t\t\t\t\t\t<FormLabel> :</FormLabel>\n\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\tplaceholder=\"     255 \"\n\t\t\t\t\t\t\tmaxlength=\"255\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup as={Row} className=\"category\">\n\t\t\t\t\t\t<FormLabel></FormLabel>\n\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" name=\"category_id\" required>\n\t\t\t\t\t\t\t<option value=\"\"> ...</option>\n\t\t\t\t\t\t\t{categories.map(cat => {\n\t\t\t\t\t\t\t\treturn <option value={cat._id}>{cat.name}</option>;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<Form.Row xl={12}>\n\t\t\t\t\t\t<FormGroup as={Col} md={6}>\n\t\t\t\t\t\t\t<FormLabel>  :</FormLabel>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"priceHour\"\n\t\t\t\t\t\t\t\tplaceholder='    \"'\n\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\tstep=\"0.5\"\n\t\t\t\t\t\t\t\tmax=\"10000\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup as={Col} md={6}>\n\t\t\t\t\t\t\t<FormLabel>  :</FormLabel>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"priceDay\"\n\t\t\t\t\t\t\t\tplaceholder='   \"'\n\t\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\t\tstep=\"0.5\"\n\t\t\t\t\t\t\t\tmax=\"10000\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Form.Row>\n\t\t\t\t\t<FormGroup as={Row} className=\"images\">\n\t\t\t\t\t\t<FormLabel>  :</FormLabel>\n\t\t\t\t\t\t<Form.File name=\"images\" multiple required />\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" size=\"md\" block>\n\t\t\t\t\t\t \n\t\t\t\t\t</Button>\n\t\t\t\t</Container>\n\t\t\t\t<Container>\n\t\t\t\t\t<p as={Row} className=\"text-muted text-center invisible \" id=\"imagesPreviwTitle\">\n\t\t\t\t\t\t  \n\t\t\t\t\t</p>\n\t\t\t\t\t<Row className=\"imagesPreviw\">\n\t\t\t\t\t\t{form.images &&\n\t\t\t\t\t\t\tform.images.map((img, i) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<FormGroup key={i} as={Col} xl={3} md={3} sm={6} xs={6}>\n\t\t\t\t\t\t\t\t\t\t<Form.Check required=\"required\" type=\"radio\" name=\"mainImg\" value={img} />\n\t\t\t\t\t\t\t\t\t\t<Image width=\"170\" height=\"180\" src={img} alt=\"prev\" rounded />\n\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</form>\n\t\t</Container>\n\t);\n}\n\nexport default AddItem;\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Row, Col, Button, Alert, Container } from 'react-bootstrap';\n\nconst Lessee = () => {\n\n\n\treturn (\n\t\t<Container>\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\n\t\t\t\t \n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessee/booking\">\n\t\t\t\t\t{' '}\n\t\t\t\t\t {' '}\n\t\t\t\t</Alert.Link>\n\t\t\t</Alert>\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\n\t\t\t\t  \n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessee/current_rent\">\n\t\t\t\t\t{' '}\n\t\t\t\t\t {' '}\n\t\t\t\t</Alert.Link>\n\t\t\t</Alert>\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\n\t\t\t\t \n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessee/history\">\n\t\t\t\t\t{' '}\n\t\t\t\t\t {' '}\n\t\t\t\t</Alert.Link>\n\t\t\t</Alert>\n\t\t</Container>\n\n\t);\n};\n\nexport default Lessee;\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Row, Col, Button, Alert, Container } from 'react-bootstrap';\n\nconst Lessor = () => {\n\tconst history = useHistory();\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row className=\"align-center mb-3\">\n\t\t\t\t<Button\n\t\t\t\t\tas={Col}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistory.push('/edit_items');\n\t\t\t\t\t}}\n\t\t\t\t\txl={{ span: '4', offset: '2' }}\n\t\t\t\t\tmd={{ span: '4', offset: '2' }}\n\t\t\t\t\tclassName=\"mt-1\"\n\t\t\t\t>\n\t\t\t\t\t \n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thistory.push('/additem');\n\t\t\t\t\t}}\n\t\t\t\t\tas={Col}\n\t\t\t\t\txl={{ span: '4', offset: '1' }}\n\t\t\t\t\tmd={{ span: '4', offset: '1' }}\n\t\t\t\t\tclassName=\" mt-1\">\n\t\t\t\t\t \n\t\t\t\t</Button>\n\t\t\t</Row>\n\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\n\t\t\t\t  \n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessor/booking\">\n\t\t\t\t\t{' '}\n\t\t\t\t\t {' '}\n\t\t\t\t</Alert.Link>\n\t\t\t</Alert>\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\n\t\t\t\t  \n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessor/current_rent\">\n\t\t\t\t\t{' '}\n\t\t\t\t\t {' '}\n\t\t\t\t</Alert.Link>\n\t\t\t</Alert>\n\t\t\t<Alert variant=\"primary\" className=\"text-right\">\n\t\t\t\t \n\t\t\t\t<Alert.Link as={Link} to=\"/private/lessor/history\">\n\t\t\t\t\t{' '}\n\t\t\t\t\t {' '}\n\t\t\t\t</Alert.Link>\n\t\t\t</Alert>\n\t\t</Container>\n\t);\n};\n\nexport default Lessor;\n","import React from 'react';\nimport Lessee from './Lessee';\nimport Lessor from './Lessor';\nimport { Container, Tab, Tabs, Nav } from 'react-bootstrap';\n\nimport { Route, NavLink, Redirect, Switch, Link, Item } from 'react-router-dom';\n\nconst Private = props => {\n\tconsole.log('ppp', props);\n\tconst { path } = props.match;\n\treturn (\n\t\t<Container>\n\n\t\t\t<div>\n\t\t\t\t{/* <Nav variant=\"pills\" fill defaultActiveKey=\"link-1\"> */}\n\t\t\t\t<Nav variant=\"tabs\" fill >\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link as={Link} to={`${path}/lessee`} eventKey=\"link-1\"></Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t<Nav.Link as={Link} to={`${path}/lessor`} eventKey=\"link-2\"></Nav.Link>\n\t\t\t\t\t</Nav.Item>\n\t\t\t\t</Nav>\n\t\t\t</div>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path={`${path}/lessee`}>\n\t\t\t\t\t<Lessee />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={`${path}/lessor`}>\n\t\t\t\t\t<Lessor />\n\t\t\t\t</Route>\n\t\t\t\t{/* on first enter to private path (default route) */}\n\t\t\t\t<Redirect to={`${path}/lessee`} />\n\t\t\t</Switch>\n\t\t</Container>\n\t);\n};\n\nexport default Private;\n","\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Container, Row, Col, Badge, Card, CardDeck, CardGroup } from 'react-bootstrap';\nimport Api from '../Api';\n\nconst Category = () => {\n\tlet { id } = useParams();\n\tlet [products, setProducts] = useState([]);\n\tlet [categoryTitle, setCategoryTitle] = useState('');\n\n\t// run after every render (by default)\n\tuseEffect(() => {\n\t\tconsole.log('useEffect...');\n\n\t\tasync function getProducts() {\n\n\t\t\tconst data = await Api.getProductsByCategoryId(id)\n\t\t\tconsole.log('products by cat id', data);\n\n\t\t\tsetProducts(data.itemsByCategory);\n\t\t\tsetCategoryTitle(data.categoryTitle)\n\t\t}\n\t\tgetProducts();\n\t}, []);\n\n\tfunction formatDate(date) {\n\t\tconst d = new Date(date);\n\t\treturn d.toLocaleString('en-GB');\n\t}\n\n\treturn (\n\t\t<Container className=\"categories\">\n\t\t\t<Row style={{ marginTop: '1%' }}>\n\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'large' }}>\n\t\t\t\t\t{categoryTitle}\n\t\t\t\t</Badge>\n\t\t\t</Row>\n\t\t\t<CardGroup as={Row} className=\"pt-3\">\n\t\t\t\t{products.map((product, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6}>\n\t\t\t\t\t\t\t<Card key={i}>\n\t\t\t\t\t\t\t\t<Link to={`/item/${product._id}`}>\n\t\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={product.mainImg} />\n\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t<Card.Title className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t{product.title}\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge pill variant=\"primary\">: {product.priceHour}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge pill variant=\"primary\">: {product.priceDay}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<small className=\"text-muted\">{formatDate(product.createdAt)}</small>\n\t\t\t\t\t\t\t\t</Card.Footer>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</CardGroup>\n\t\t</Container>\n\t);\n\n};\n\nexport default Category;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useHistory } from 'react-router-dom';\nimport { Container, Row, Col, Carousel, Badge, Card, Image, Button, Alert, Modal, Form } from 'react-bootstrap';\nimport Api from '../Api';\nimport Rating from 'react-rating'; // https://github.com/dreyescat/react-rating\n\n//date-time picker  https://github.com/YouCanBookMe/react-datetime\nimport * as Datetime from 'react-datetime';\nimport 'react-datetime/css/react-datetime.css';\n//set local *hebrew* format for date-time picker\nimport moment from 'moment';\nimport 'moment/locale/he';\n\nimport { differenceInCalendarDays, differenceInHours } from 'date-fns';\n\nmoment.locale('he');\n\nconst Item = ({ user }) => {\n\tconst { id } = useParams();\n\tconst history = useHistory();\n\tconst [item, setItem] = useState({});\n\tconst [lessor, setLessor] = useState({});\n\tconst [index, setIndex] = useState(0); //Carousel\n\tconst [startDate, setStartDate] = useState(null);\n\tconst [endDate, setEndDate] = useState(null);\n\tconst [reviews, setReviews] = useState([]);\n\tconst [message, setMessage] = useState('');\n\tconst [totalPrice, setTotalPrice] = useState(0);\n\tconst [itemOrders, setItemOrders] = useState(0);\n\tconst [totalLessorData, setTotalLessorData] = useState({});\n\tconst [show, setShow] = useState(false); //show modal message\n\n\t//handle modal show/close\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\n\tconst userExist = user ? true : false;\n\tconst userIsLessor = (userExist && user._id == lessor._id) ? true : false;\n\tconst varientBtn = user ? 'primary' : 'dark';\n\n\tuseEffect(() => {\n\t\tasync function getReviews() {\n\t\t\tconst data = await Api.getReviews(id);\n\t\t\tsetReviews(data);\n\t\t};\n\t\tasync function getItemDetails() {\n\t\t\tconst data = await Api.getItemById(id);\n\t\t\tsetItem(data.itemDetails);\n\t\t\tsetLessor(data.lessor);\n\t\t\tsetTotalLessorData({\n\t\t\t\ttotalItems: data.totalItemsOwn,\n\t\t\t\ttotalOrders: data.totalLessorOrders,\n\t\t\t});\n\t\t};\n\n\t\tasync function getItemsOrders() {\n\t\t\tconst data = await Api.getOrdersByItemId(id);\n\t\t\tsetItemOrders(data);\n\t\t\tconsole.log('orders:', data)\n\t\t}\n\n\t\tgetItemDetails();\n\t\tgetReviews();\n\t\tgetItemsOrders();\n\t\twindow.scrollTo(0, 0); //scroll to top when page load\n\t}, []);\n\n\t//Carousel  handle\n\tconst handleSelect = (selectedIndex, e) => {\n\t\tsetIndex(selectedIndex);\n\t};\n\n\tconst onMessage = e => {\n\t\tconst { value } = e.target;\n\t\tsetMessage(value);\n\t};\n\n\tconst sendMessage = e => {\n\t\te.preventDefault();\n\t\tconsole.log('msg', message);\n\t\tconsole.log('user', user);\n\t\tconsole.log('lessor', lessor);\n\t\t// send message to server with socket\n\t\twindow.socket.emit('MESSAGE', { user, message, receiver: lessor });\n\t\thandleClose();\n\t};\n\n\tfunction formatDate(date) {\n\t\tlet d = new Date(date);\n\t\td = d.toLocaleString('en-GB').slice(0, 10);\n\t\treturn d;\n\t}\n\n\tfunction getValid(current) {\n\t\tconst yesterday = Datetime.moment().subtract(1, 'day');\n\t\treturn current.isAfter(yesterday);\n\t}\n\n\tfunction calculateTotalPrice() {\n\t\tif (endDate && startDate) {\n\t\t\tconst hourDiffenece = differenceInHours(new Date(endDate), new Date(startDate));\n\t\t\tconst dayDiffenece = differenceInCalendarDays(new Date(endDate), new Date(startDate));\n\t\t\tif (hourDiffenece < 24) {\n\t\t\t\tsetTotalPrice(Number(item.priceHour) * hourDiffenece)\n\t\t\t} else {\n\t\t\t\tsetTotalPrice(Number(item.priceDay) * dayDiffenece)\n\t\t\t}\n\n\t\t}\n\t}\n\n\tasync function submitOrder() {\n\t\t//TODO: validate order dates  & user existesne\n\t\ttry {\n\t\t\tconst body = {\n\t\t\t\tuser: user, //lessee\n\t\t\t\tstartRent: startDate,\n\t\t\t\tendRent: endDate,\n\t\t\t\titem: item,\n\t\t\t\tlessor: lessor,\n\t\t\t\ttotalPrice: totalPrice,\n\t\t\t};\n\n\t\t\tconsole.log('submitted order obj: ', body);\n\n\t\t\tconst data = Api.addNewOrder(body);\n\t\t\tconsole.log('data order', data);\n\n\t\t\thistory.push('/private/lessee');\n\t\t} catch (err) {\n\t\t\tconsole.log('fetch new order err: ', err.message);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<Row className=\"my-2\">\n\t\t\t\t<Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'large' }}>\n\t\t\t\t\t{item.title}\n\t\t\t\t</Badge>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col xl={4} md={4}>\n\t\t\t\t\t<Card bg=\"light\">\n\t\t\t\t\t\t<Card.Header className=\"text-center\">\n\t\t\t\t\t\t\t<Image src={lessor.profilepPic} roundedCircle style={{ 'maxHeight': '300px' }} />\n\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t<Card.Body className=\"text-center\">\n\t\t\t\t\t\t\t<Card.Title>\n\t\t\t\t\t\t\t\t{lessor.firstName} {lessor.lastName}{' '}\n\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t\t<Card.Text>\n\t\t\t\t\t\t\t\t<p>\" : {totalLessorData.totalItems}</p>\n\t\t\t\t\t\t\t\t<p>\" : {totalLessorData.totalOrders}</p>\n\t\t\t\t\t\t\t\t<p>   {formatDate(lessor.createdAt)}</p>\n\t\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t\t\t<Button variant={varientBtn} size=\"md\" disabled={!userExist} onClick={handleShow} block>\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={8} md={8}>\n\t\t\t\t\t<Carousel\n\t\t\t\t\t\tactiveIndex={index}\n\t\t\t\t\t\tonSelect={handleSelect}\n\t\t\t\t\t\tinterval={3000}\n\t\t\t\t\t>\n\t\t\t\t\t\t{item.images &&\n\t\t\t\t\t\t\titem.images.map(img => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Carousel.Item>\n\t\t\t\t\t\t\t\t\t\t<img src={img} className={'text-center'} style={{ maxHeight: '350px', width: '80%' }} />\n\t\t\t\t\t\t\t\t\t</Carousel.Item>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row dir=\"rtl\">\n\t\t\t\t<Card as={Col} xl={5} md={5} border=\"info\" className=\"ml-1 mt-1\">\n\t\t\t\t\t<Card.Header className=\"text-right\"> </Card.Header>\n\t\t\t\t\t<Card.Body className=\"text-right\">{item.description}</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card as={Col} xl={3} md={3} border=\"info\" className=\"ml-1 mt-1\">\n\t\t\t\t\t<Card.Header className=\"text-right\"></Card.Header>\n\t\t\t\t\t<Card.Body className=\"text-right\">\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"text-center\">\n\t\t\t\t\t\t\t  : {item.priceHour}&#x20aa;\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t<Alert variant=\"info\" className=\"text-center\">\n\t\t\t\t\t\t\t  : {item.priceDay}&#x20aa;\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t\t<Card as={Col} xl={3} md={3} border=\"info\" className=\"ml-1 mt-1 d-none d-sm-block .d-sm-none .d-md-block\">\n\t\t\t\t\t<Card.Header className=\"text-right\"> </Card.Header>\n\t\t\t\t\t<Card.Body className=\"text-right\">\n\t\t\t\t\t\t<li> {itemOrders.length} </li>\n\t\t\t\t\t\t<li className=\"pt-3\">\"   {reviews.length}</li>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</Row>\n\n\t\t\t<Row dir=\"rtl\" className=\"pl-1\">\n\t\t\t\t<Card as={Col} xl={12} md={12} border=\"info\" className=\"mt-1\">\n\t\t\t\t\t<Card.Header className=\"text-center\"> </Card.Header>\n\t\t\t\t\t<Card.Body className=\"text-center\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={4} sm={12} xs={12}>\n\t\t\t\t\t\t\t\t<Card.Title></Card.Title>\n\t\t\t\t\t\t\t\t<Datetime\n\t\t\t\t\t\t\t\t\tisValidDate={getValid}\n\t\t\t\t\t\t\t\t\tinputProps={{ name: 'startRent' }}\n\t\t\t\t\t\t\t\t\tonChange={e => setStartDate(e.format())}\n\t\t\t\t\t\t\t\t\tonBlur={calculateTotalPrice} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={4} sm={12} xs={12}>\n\t\t\t\t\t\t\t\t<Card.Title></Card.Title>\n\t\t\t\t\t\t\t\t<Datetime\n\t\t\t\t\t\t\t\t\tisValidDate={getValid}\n\t\t\t\t\t\t\t\t\tinputProps={{ name: 'endRent' }}\n\t\t\t\t\t\t\t\t\tonChange={e => setEndDate(e.format())}\n\t\t\t\t\t\t\t\t\tonBlur={calculateTotalPrice} />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={4} sm={12} xs={12}>\n\t\t\t\t\t\t\t\t<h5>\"</h5>\n\t\t\t\t\t\t\t\t<p> &#x20aa; {totalPrice} </p>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant={user && !userIsLessor ? 'primary' : 'dark'}\n\t\t\t\t\t\t\t\t\tdisabled={(!userExist || userIsLessor)}\n\t\t\t\t\t\t\t\t\tonClick={submitOrder}\n\t\t\t\t\t\t\t\t\tblock>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"pt-3 \">\n\t\t\t\t\t\t\t<Col md={{ span: '5', offset: '3' }} xs={12}></Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\n\t\t\t</Row>\n\n\t\t\t<h2 className=\"text-right mt-3\">\n\t\t\t\t<Badge as={Col} variant=\"secondary\" block>\n\t\t\t\t\t \n\t\t\t\t</Badge>\n\t\t\t</h2>\n\t\t\t{\n\t\t\t\treviews && reviews.map((review) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Row dir=\"rtl\" border=\"primary\" className=\"mt-3\">\n\t\t\t\t\t\t\t<Col xl={2} md={2} sm={5} xs={5}>\n\t\t\t\t\t\t\t\t<Image src={review.lessee.profileImg} thumbnail />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Card as={Col} key={review._id}>\n\t\t\t\t\t\t\t\t<Card.Header as={Row}>\n\t\t\t\t\t\t\t\t\t<Col sm={10} xs={10} className=\"text-right font-weight-bold\">{review.lessee.fullName}</Col>\n\n\t\t\t\t\t\t\t\t\t<Col sm={10} xs={10} className=\"text-left font-weight-light text-muted\">{formatDate(review.createdAt)}</Col>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t<Card.Text className=\"text-right\">{review.review}</Card.Text>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t<Card.Footer>\n\t\t\t\t\t\t\t\t\t<Rating\n\t\t\t\t\t\t\t\t\t\treadonly={true}\n\t\t\t\t\t\t\t\t\t\tinitialRating={review.itemRate}\n\t\t\t\t\t\t\t\t\t\temptySymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\" />\n\t\t\t\t\t\t\t\t\t\t</svg>}\n\t\t\t\t\t\t\t\t\t\tfullSymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\n\t\t\t\t\t\t\t\t\t\t</svg>}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Footer>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t<Modal show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title> </Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body dir=\"rtl\">\n\t\t\t\t\t<Form.Control as=\"textarea\" rows=\"3\" name=\"message\" onChange={onMessage} />\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"primary\" onClick={sendMessage}>\n\t\t\t\t\t\t \n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</Container >\n\t);\n};\n\nexport default Item;\n","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardGroup, Card, Button, Modal } from 'react-bootstrap';\nimport Api from '../Api';\n\nconst LessorItems = ({ user }) => {\n    const [items, setItems] = useState(null);\n    const [show, setShow] = useState(false);//MODAL review\n    const [selectedItem, setSelectedItem] = useState({});// selected by  onClick Modal BTN\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    useEffect(() => {\n        async function getItemsByLessorID() {\n            const lessorID = user._id;\n            const data = await Api.getItemsByLessorID(lessorID);\n            setItems(data);\n        }\n        getItemsByLessorID();\n    }, []);\n\n    return (\n        <Container>\n            {console.log('my items:', items)}\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\n                {items && items.map((item) => {\n                    return (\n                        <Col xl={3} md={3} sm={6} xs={6} >\n                            <Card className=\"p-2\" key={item._id}>\n                                <Card.Img variant=\"top\" src={item.mainImg} />\n                                <Card.Body className=\"text-center\">\n                                    <Card.Title>{item.title}</Card.Title>\n                                </Card.Body>\n                                <Card.Footer className=\"text-center\">\n                                    <Button block>\n                                         \n                            </Button>\n                                    <Button\n                                        variant='danger'\n                                        onClick={() => {\n                                            setSelectedItem(item);\n                                            handleShow();\n                                        }}\n                                        block>\n                                         \n                            </Button>\n                                </Card.Footer>\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </CardGroup>\n            <Modal show={show} onHide={handleClose} >\n                <Modal.Header closeButton>\n                </Modal.Header>\n                <Modal.Body dir=\"rtl\" className='text-right'>\n                    <h3> : {(selectedItem) ? selectedItem.title : ''}</h3>\n                    <p>     ?</p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Col>\n                        <Button variant=\"danger\" onClick={handleClose} block>\n                            \n                    </Button>\n                    </Col>\n                    <Col>\n                        <Button variant=\"primary\" onClick={handleClose} block>\n                            \n                    </Button>\n                    </Col>\n                </Modal.Footer>\n            </Modal>\n        </Container>\n    );\n}\n\nexport default LessorItems;","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardGroup, Card, Button, Modal, Badge } from 'react-bootstrap';\nimport { differenceInCalendarDays, differenceInHours, format } from 'date-fns';\nimport Api from '../Api';\n\nconst hebrewText = {\n\ttotalRentTime: ' : ',\n\ttotalPrice: ' ',\n\trentStart: ' ',\n\tretnEnd: ' ',\n\tlessorName: ' ',\n\tstatus: '',\n\tstatusValue: {\n\t\tNEW_BOOKING: '  ',\n\t\tCONFIRM_BOOKING: ''\n\t}\n};\n\nconst STATUSES = {\n\tNEW_BOOKING: 'NEW_BOOKING', //item just added\n\tCONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\n\tCONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\n\tCONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\n};\n\nconst BookingLessor = ({ user }) => {\n\tconst [orders, setOrders] = useState([]);\n\tconst [show, setShow] = useState(false); // Modal toggle\n\tconst [selectedOrder, setSelectedOrder] = useState({});// selected by Modal onClick\n\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\n\tconst approveOrder = async () => {\n\t\t// update(approve) order and return all orders of user(lessor)\n\t\tconst data = await Api.approveBooking(selectedOrder._id);\n\t\tif (data.err) {\n\t\t\t// handle error\n\t\t}\n\t\tconsole.log('approveOrder, data:', data)\n\t\tconst orders = filterOrders(data);\n\t\tsetOrders(orders);//set orders with updated list\n\t\thandleClose();\n\t};\n\n\tuseEffect(() => {\n\t\tasync function getOrdersByUserId() {\n\t\t\t//get all orders where userID == lessorID\n\t\t\tconst userType = 'lessor';\n\t\t\tconst data = await Api.getOrdersByUserId(user._id, userType);\n\t\t\tconsole.log(`use effect , data:`, data)\n\t\t\tconst orders = filterOrders(data);\n\t\t\tsetOrders(orders);\n\n\t\t}\n\n\t\tgetOrdersByUserId();\n\t}, []);\n\n\tconst dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\n\n\tfunction getTotalTime(start, end) {\n\t\tconst hourDiffenece = differenceInHours(new Date(end), new Date(start));\n\t\tconst dayDiffenece = differenceInCalendarDays(new Date(end), new Date(start));\n\t\tif (hourDiffenece < 24) {\n\t\t\treturn ` ${hourDiffenece}`\n\t\t} else {\n\t\t\treturn `  ${dayDiffenece}`\n\t\t}\n\t}\n\n\tconst filterOrders = (orders) => {\n\t\tconst filtredOrders = orders.filter(order => {\n\t\t\treturn order.status == STATUSES.NEW_BOOKING || order.status == STATUSES.CONFIRM_BOOKING;\n\t\t})\n\t\treturn filtredOrders;\n\t}\n\n\treturn (\n\t\t<Container>\n\t\t\t<h3 className=\"text-center\"> </h3>\n\n\t\t\t<CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\n\t\t\t\t{orders.map(order => {\n\t\t\t\t\tconst borders = {\n\t\t\t\t\t\tNEW_BOOKING: 'danger',\n\t\t\t\t\t\tCONFIRM_BOOKING: 'success',\n\t\t\t\t\t};\n\t\t\t\t\tconst borderColor = borders[order.status];\n\t\t\t\t\tconst variantByStatus = (order.status == STATUSES.NEW_BOOKING) ? \"warning\" : \"success\";\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Col xl={3} md={3} sm={6} xs={6} key={order._id}>\n\t\t\t\t\t\t\t<Card className=\"p-2\" border={borderColor}>\n\t\t\t\t\t\t\t\t<Card.Img variant=\"top\" src={order.itemDetails.img} />\n\t\t\t\t\t\t\t\t<Card.Body className=\"text-right\">\n\t\t\t\t\t\t\t\t\t<Card.Title>{order.itemDetails.title}</Card.Title>\n\t\t\t\t\t\t\t\t\t<p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\n\t\t\t\t\t\t\t\t\t<p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t{`${hebrewText.status}:`}\n\t\t\t\t\t\t\t\t\t\t<Badge variant={variantByStatus}>{hebrewText.statusValue[order.status]}</Badge>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t<Card.Footer className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedOrder(order);\n\t\t\t\t\t\t\t\t\t\t\thandleShow();\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Card.Footer>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</CardGroup>\n\n\t\t\t<Modal show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t{(selectedOrder.itemDetails) ? selectedOrder.itemDetails.title : ''}\n\t\t\t\t\t</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body className=\"text-right\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{hebrewText.totalRentTime}\n\t\t\t\t\t\t{getTotalTime(new Date(selectedOrder.startRent), new Date(selectedOrder.endRent))}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>{`${hebrewText.totalPrice}: ${selectedOrder.totalPrice}`}</p>\n\t\t\t\t\t<p>{`${hebrewText.lessorName}: ${selectedOrder.lesseeFullName}`}</p>\n\t\t\t\t\t{/* TODO: message to lessee */}\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\n\t\t\t\t\t\t \n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{/* TODO: delete order => message to lessee */}\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleClose}>\n\t\t\t\t\t\t \n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"success\" onClick={approveOrder}>\n\t\t\t\t\t\t \n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</Container>\n\t);\n};\n\nexport default BookingLessor;\n","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardGroup, Card, Button } from 'react-bootstrap';\nimport { differenceInCalendarDays, format } from 'date-fns';\nimport Api from '../Api';\n\nconst STATUSES = {\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\n};\n\nconst hebrewText = {\n    totalDays: ' :',\n    totalPrice: ' ',\n    rentStart: ' ',\n    retnEnd: ' ',\n    lessorName: ' ',\n    status: '',\n    statusValue: {\n        NEW_BOOKING: '  ',\n        CONFIRM_BOOKING: ''\n    }\n};\n\nconst CurrentLessor = ({ user }) => {\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n        async function getOrdersByUserId() {\n            //get all orders where userID == lessorID\n            const userType = 'lessor';\n            const data = await Api.getOrdersByUserId(user._id, userType);\n            console.log(`use effect , data:`, data)\n            const orders = filterOrders(data);\n            setOrders(orders);\n\n        }\n\n        getOrdersByUserId();\n    }, []);\n\n    const filterOrders = (orders) => {\n        const filtredOrders = orders.filter(order => {\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSEE;\n        })\n        return filtredOrders;\n    }\n\n    //confirm receving item \n    const confirmOrder = async (orderID) => {\n        const userType = 'lessor';\n        const data = await Api.confirmReceivingItem(orderID, userType);\n        console.log(`confirmOrder, data:`, data)\n        const orders = filterOrders(data);\n        setOrders(orders);\n\n    }\n\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\n\n    return (\n        <Container>\n            <h3 className=\"text-center\"> </h3>\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\n                {orders.map(order => {\n                    return (\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\n                            <Card className=\"p-2\">\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\n                                <Card.Body className=\"text-right\">\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\n                                </Card.Body>\n                                <Card.Footer className=\"text-center\">\n                                    <Button\n                                        onClick={() => confirmOrder(order._id)}\n                                    >\n                                         - \n                                    </Button>\n                                </Card.Footer>\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </CardGroup>\n        </Container>\n    );\n}\n\nexport default CurrentLessor;","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardGroup, Card, Button } from 'react-bootstrap';\nimport { differenceInCalendarDays, format } from 'date-fns';\nimport Api from '../Api';\n\nconst STATUSES = {\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\n};\n\nconst hebrewText = {\n    totalDays: ' :',\n    totalPrice: ' ',\n    rentStart: ' ',\n    retnEnd: ' ',\n    lessorName: ' ',\n    status: '',\n    statusValue: {\n        NEW_BOOKING: '  ',\n        CONFIRM_BOOKING: ''\n    }\n};\n\nconst HistoryLessor = ({ user }) => {\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n        async function getOrdersByUserId() {\n            //get all orders where userID == lessorID\n            const userType = 'lessor';\n            const data = await Api.getOrdersByUserId(user._id, userType);\n            console.log(`use effect , data:`, data)\n            const orders = filterOrders(data);\n            setOrders(orders);\n\n        }\n\n        getOrdersByUserId();\n    }, []);\n\n    const filterOrders = (orders) => {\n        const filtredOrders = orders.filter(order => {\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSOR;\n        })\n        return filtredOrders;\n    }\n\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\n\n\n    return (\n        <Container>\n            <h3 className=\"text-center\"> </h3>\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\n                {orders.map(order => {\n                    return (\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\n                            <Card className=\"p-2\">\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\n                                <Card.Body className=\"text-right\">\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\n                                </Card.Body>\n                                <Card.Footer className=\"text-center\">\n                                    <Button> </Button>\n                                </Card.Footer>\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </CardGroup>\n        </Container>\n    )\n}\n\nexport default HistoryLessor;","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardGroup, Card, Button, Modal, Form } from 'react-bootstrap';\nimport { differenceInCalendarDays, format } from 'date-fns';\nimport Rating from 'react-rating'; // https://github.com/dreyescat/react-rating\nimport Api from '../Api';\nimport { Link } from 'react-router-dom';\n\nconst STATUSES = {\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\n};\n\nconst hebrewText = {\n    totalDays: ' :',\n    totalPrice: ' ',\n    rentStart: ' ',\n    retnEnd: ' ',\n    lessorName: ' ',\n    status: '',\n    statusValue: {\n        NEW_BOOKING: '  ',\n        CONFIRM_BOOKING: ''\n    }\n};\n\nconst HistoryLessee = ({ user }) => {\n    const [orders, setOrders] = useState([]);\n    const [selectedOrder, setSelectedOrder] = useState({});// selected by Modal onClick\n    const [show, setShow] = useState(false);//MODAL review\n    const [ItemRate, setItemRate] = useState(3);\n    const [reviewMsg, setReviewMsg] = useState('');\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    useEffect(() => {\n        async function getOrdersByUserId() {\n            //get all orders where userID == lessorID\n            const userType = 'lessee';\n            const data = await Api.getOrdersByUserId(user._id, userType);\n            console.log(`use effect , data:`, data)\n            const orders = filterOrders(data);\n            setOrders(orders);\n\n        }\n\n        getOrdersByUserId();\n    }, []);\n\n    const filterOrders = (orders) => {\n        const filtredOrders = orders.filter(order => {\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSOR;\n        })\n        return filtredOrders;\n    }\n\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\n\n    const sendReview = async () => {\n        const reviewObj = {\n            itemID: selectedOrder.itemId,\n            lessee: {\n                userID: user._id,\n                fullName: `${user.firstName} ${user.lastName}`,\n                profileImg: user.profilepPic,\n            },\n            itemRate: ItemRate,\n            review: reviewMsg,\n\n        }\n        console.log(reviewObj);\n\n        const reviewSent = await Api.sendItemReview(reviewObj);\n        console.log('reviewSent', reviewSent);\n\n        handleClose();\n    }\n\n\n    return (\n        <Container>\n            <h3 className=\"text-center\"> </h3>\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\n                {orders.map(order => {\n                    return (\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\n                            <Card className=\"p-2\">\n                                <Link to={`/item/${order.itemId}`}>\n                                    <Card.Img variant=\"top\" src={order.itemDetails.img} />\n                                    <Card.Body className=\"text-right\">\n                                        <Card.Title>{order.itemDetails.title}</Card.Title>\n                                        <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\n                                        <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\n                                    </Card.Body>\n                                </Link>\n                                <Card.Footer className=\"text-center\">\n                                    <Button onClick={() => {\n                                        setSelectedOrder(order);\n                                        setReviewMsg('');\n                                        setItemRate(3);\n                                        handleShow();\n                                    }}>\n                                          \n                                    </Button>\n                                </Card.Footer>\n\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </CardGroup>\n\n            <Modal show={show} onHide={handleClose} >\n                <Modal.Header closeButton>\n                    <Modal.Title >  </Modal.Title>\n                </Modal.Header>\n                <Modal.Body dir=\"rtl\">\n                    <Rating\n                        initialRating={ItemRate}\n                        onChange={(rate) => setItemRate(rate)}\n                        emptySymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path fill-rule=\"evenodd\" d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\" />\n                        </svg>}\n                        fullSymbol={<svg width=\"2em\" height=\"2em\" viewBox=\"0 0 16 16\" class=\"bi bi-star-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\n                        </svg>}\n                    />\n                    <Form.Control id=\"ReviewMsg\" onChange={(e) => setReviewMsg(e.target.value)} className='mt-2' placeholder=\"      \" as=\"textarea\" rows=\"3\" />\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"primary\" onClick={sendReview} >\n                        \n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </Container >\n    )\n}\n\nexport default HistoryLessee;","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardGroup, Card, Button, Modal, Badge } from 'react-bootstrap';\nimport { differenceInCalendarDays, differenceInHours, format } from 'date-fns';\nimport Api from '../Api';\n\nconst STATUSES = {\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\n};\n\nconst hebrewText = {\n    totalRentTime: ' : ',\n    totalPrice: ' ',\n    rentStart: ' ',\n    retnEnd: ' ',\n    lessorName: ' ',\n    status: '',\n    statusValue: {\n        NEW_BOOKING: ' ',\n        CONFIRM_BOOKING: ''\n    }\n};\n\nconst BookingLessee = ({ user }) => {\n    const [orders, setOrders] = useState([]);\n    const [show, setShow] = useState(false); // Modal toggle\n    const [selectedOrder, setSelectedOrder] = useState({});// selected by Modal onClick\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    //confirm receving item \n    const confirmOrder = async (orderID) => {\n        const userType = 'lessee';\n        const data = await Api.confirmReceivingItem(orderID, userType);\n        console.log(`confirmOrder, data:`, data)\n        const orders = filterOrders(data);\n        setOrders(orders);\n\n    }\n\n    useEffect(() => {\n        async function getOrdersByUserId() {\n            const userType = 'lessee';\n            const data = await Api.getOrdersByUserId(user._id, userType);\n            console.log(`use effect , data:`, data)\n            const orders = filterOrders(data);\n            setOrders(orders);\n        }\n\n        getOrdersByUserId();\n    }, []);\n\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\n\n    function getTotalTime(start, end) {\n        const hourDiffenece = differenceInHours(new Date(end), new Date(start));\n        const dayDiffenece = differenceInCalendarDays(new Date(end), new Date(start));\n        if (hourDiffenece < 24) {\n            return ` ${hourDiffenece}`\n        } else {\n            return `  ${dayDiffenece}`\n        }\n    }\n\n    const filterOrders = (orders) => {\n        const filtredOrders = orders.filter(order => {\n            return order.status == STATUSES.NEW_BOOKING || order.status == STATUSES.CONFIRM_BOOKING;\n        })\n        return filtredOrders;\n    }\n\n    return (\n        <Container>\n            <h3 className=\"text-center\"> </h3>\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\n                {orders.map(order => {\n                    const borders = {\n                        NEW_BOOKING: 'danger',\n                        CONFIRM_BOOKING: 'success',\n                    };\n                    const variantByStatus = (order.status == STATUSES.NEW_BOOKING) ? \"warning\" : \"success\";\n                    const borderColor = borders[order.status];\n                    const disableConfirmBTN = (order.status == STATUSES.NEW_BOOKING) ? true : false;\n                    return (\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\n                            <Card className=\"p-2\" border={borderColor}>\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\n                                <Card.Body className=\"text-right\">\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\n                                    <p>\n                                        {`${hebrewText.status}:`}\n                                        <Badge variant={variantByStatus}>{hebrewText.statusValue[order.status]}</Badge>\n                                    </p>\n                                </Card.Body>\n                                <Card.Footer className=\"text-center\">\n                                    <Button\n                                        onClick={() => confirmOrder(order._id)}\n                                        disabled={disableConfirmBTN}\n                                        variant={variantByStatus}\n                                        block >\n                                          \n                                    </Button>\n                                    <Button\n                                        variant=\"info\"\n                                        block\n                                        onClick={() => {\n                                            setSelectedOrder(order);\n                                            handleShow();\n                                        }}\n                                    >\n                                          \n\t\t\t\t\t\t\t\t\t</Button>\n                                </Card.Footer>\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </CardGroup>\n\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        {(selectedOrder.itemDetails) ? selectedOrder.itemDetails.title : ''}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body className=\"text-right\">\n                    <p>\n                        {hebrewText.totalRentTime}\n                        {getTotalTime(new Date(selectedOrder.startRent), new Date(selectedOrder.endRent))}\n                    </p>\n                    <p>{`${hebrewText.totalPrice}: ${selectedOrder.totalPrice}`}</p>\n                    <p>{`${hebrewText.lessorName}: ${selectedOrder.lesseeFullName}`}</p>\n                    {/* TODO: message to lessee */}\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                         \n\t\t\t\t\t</Button>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"danger\" onClick={handleClose}>\n                         \n\t\t\t\t\t</Button>\n                </Modal.Footer>\n            </Modal>\n        </Container>\n    );\n\n}\n\nexport default BookingLessee;\n","import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, CardGroup, Card, Button } from 'react-bootstrap';\nimport { differenceInCalendarDays, format } from 'date-fns';\nimport Api from '../Api';\n\nconst STATUSES = {\n    NEW_BOOKING: 'NEW_BOOKING', //item just added\n    CONFIRM_BOOKING: 'CONFIRM_BOOKING', // after lessor approve\n    CONFIRM_ITEM_BY_LESSEE: 'CONFIRM_ITEM_BY_LESSEE', // after lessee received item\n    CONFIRM_ITEM_BY_LESSOR: 'CONFIRM_ITEM_BY_LESSOR', // order finished (after lessor approve)\n};\n\nconst hebrewText = {\n    totalDays: ' :',\n    totalPrice: ' ',\n    rentStart: ' ',\n    retnEnd: ' ',\n    lessorName: ' ',\n    status: '',\n    statusValue: {\n        NEW_BOOKING: '  ',\n        CONFIRM_BOOKING: ''\n    }\n};\n\nconst CurrentLessee = ({ user }) => {\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n        async function getOrdersByUserId() {\n            //get all orders where userID == lessorID\n            const userType = 'lessee';\n            const data = await Api.getOrdersByUserId(user._id, userType);\n            console.log(`use effect , data:`, data)\n            const orders = filterOrders(data);\n            setOrders(orders);\n\n        }\n\n        getOrdersByUserId();\n    }, []);\n\n    const filterOrders = (orders) => {\n        const filtredOrders = orders.filter(order => {\n            return order.status == STATUSES.CONFIRM_ITEM_BY_LESSEE;\n        })\n        return filtredOrders;\n    }\n\n    const dateFormate = (date) => format(new Date(date), \"dd-MM-yyyy HH:mm\")\n\n    return (\n        <Container>\n            <h3 className=\"text-center\"> </h3>\n            <CardGroup as={Row} className=\"pt-3\" dir=\"rtl\">\n                {orders.map(order => {\n                    return (\n                        <Col xl={3} md={3} sm={6} xs={6} key={order._id}>\n                            <Card className=\"p-2\">\n                                <Card.Img variant=\"top\" src={order.itemDetails.img} />\n                                <Card.Body className=\"text-right\">\n                                    <Card.Title>{order.itemDetails.title}</Card.Title>\n                                    <p>{`${hebrewText.rentStart}: ${dateFormate(order.startRent)}`}</p>\n                                    <p>{`${hebrewText.retnEnd}: ${dateFormate(order.endRent)}`}</p>\n                                </Card.Body>\n                                <Card.Footer className=\"text-center\">\n                                    <Button> </Button>\n                                </Card.Footer>\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </CardGroup>\n        </Container>\n    );\n}\n\nexport default CurrentLessee;","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Container, Row, Col, Card, Image } from 'react-bootstrap';\nimport { format } from 'date-fns';\nimport Api from '../Api';\n\nconst MessagesList = ({ user }) => {\n\tconst [chats, setChats] = useState([]);\n\n\tuseEffect(() => {\n\t\tconsole.log('use effect');\n\n\t\tasync function getChats() {\n\t\t\tlet newChats = [];\n\t\t\tconst chats = await Api.getChatsByUserId(user._id);\n\t\t\tfor (const chat of chats) {\n\t\t\t\tconst friendId = chat.participants.find(id => id !== user._id);\n\t\t\t\tconst friend = await Api.getUserById(friendId);\n\t\t\t\tconst lastMessage = await Api.getLastMessageByChatID(chat._id);\n\n\t\t\t\tnewChats.push({\n\t\t\t\t\tchat,\n\t\t\t\t\tfriend,\n\t\t\t\t\tlastMessage: lastMessage[0],\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.log('newChats', newChats);\n\n\t\t\tsetChats(newChats);\n\t\t}\n\n\t\tgetChats();\n\t}, []);\n\n\tfunction formatDate(date) {\n\t\treturn format(new Date(date), 'dd-MM-yyyy HH:mm');\n\t}\n\n\tconst history = useHistory();\n\n\treturn (\n\t\t<Container>\n\t\t\t{chats.map(({ chat, friend, lastMessage }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Card key={chat._id} onClick={() => history.push(`messages/message/${chat._id}`)} className=\"mb-1\">\n\t\t\t\t\t\t<Card.Body as={Row} dir=\"rtl\" className=\"card-hover\">\n\t\t\t\t\t\t\t<Col md={1} sm={1} xs={2}>\n\t\t\t\t\t\t\t\t<Image src={friend.profilepPic} style={{ height: '50px', width: '50px' }} roundedCircle />\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={{ span: 2, offset: 6 }} sm={3} xs={5} className=\"mt-2\">\n\t\t\t\t\t\t\t\t<Card.Title>\n\t\t\t\t\t\t\t\t\t{friend.firstName} {friend.lastName}\n\t\t\t\t\t\t\t\t</Card.Title>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={{ span: 2 }} sm={3} xs={5} className=\"text-muted mt-2\">\n\t\t\t\t\t\t\t\t{lastMessage && formatDate(lastMessage.message.date)}\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Container>\n\t);\n};\n\nexport default MessagesList;\n","import React, { useState, useEffect } from 'react';\nimport { Container, Jumbotron, Row, Col, Button, Card, Image, Form } from 'react-bootstrap';\n\nimport { useParams } from 'react-router-dom';\n\nimport { format } from 'date-fns';\n\nimport Api from '../Api';\n\nconst Message = ({ user }) => {\n\tconst { id } = useParams();\n\tconst [messages, setMessages] = useState([]);\n\tconst [message, setMessage] = useState('');\n\tconst [friendOBJ, setFriend] = useState({});\n\n\tconst onMessageSocket = ({ message }) => {\n\t\tconsole.log('on Message', message);\n\t\tconsole.log('aaa', messages);\n\t\tconsole.log('bb', [...messages, message]);\n\t\tsetMessages([...messages, message]);\n\t};\n\n\tuseEffect(() => {\n\t\tasync function getAllMessages() {\n\t\t\tconst data = await Api.getMessageByChatId(id);\n\t\t\tconsole.log('data', data);\n\t\t\tsetMessages(data);\n\t\t\tif (!data[0]) return;\n\n\t\t\tconst friendID = data[0].sender._id != user._id ? data[0].sender._id : data[0].receiver._id;\n\t\t\tconst friendObj = await Api.getUserById(friendID);\n\t\t\tsetFriend(friendObj);\n\t\t}\n\n\t\tgetAllMessages();\n\t}, []);\n\n\tuseEffect(() => {\n\t\twindow.socket.on('NEW_MESSAGE', onMessageSocket);\n\t\treturn () => {\n\t\t\twindow.socket.off('NEW_MESSAGE', onMessageSocket);\n\t\t};\n\t}, [messages]);\n\n\tconst onMessage = e => {\n\t\tconst { value } = e.target;\n\t\tsetMessage(value);\n\t};\n\n\tconst sendMessage = e => {\n\t\te.preventDefault();\n\t\t// send message to server with socket\n\t\twindow.socket.emit('MESSAGE', { user, message, receiver: friendOBJ }, newMessage => {\n\t\t\tsetMessages([...messages, newMessage]);\n\t\t});\n\t\tdocument.getElementById('textAreaMSG').value = '';\n\t};\n\n\tconsole.log('messages', messages);\n\n\treturn (\n\t\t<Container>\n\t\t\t<h3></h3>\n\t\t\t<Jumbotron>\n\t\t\t\t{messages.map(messageObj => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Card className=\"bm-5\" xl={8} className=\"mt-2\" message={messageObj._id}>\n\t\t\t\t\t\t\t<Card.Header as={Row} className=\"\" dir=\"rtl\">\n\t\t\t\t\t\t\t\t<Col md={{ span: 1, offset: 1 }} sm={3} xs={10}>\n\t\t\t\t\t\t\t\t\t<Image style={{ height: '85px', width: '85px' }} src={messageObj.sender.profilepPic} roundedCircle />\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col md={8} sm={8} xs={8} className=\"pt-3 text-right\">\n\t\t\t\t\t\t\t\t\t<Card.Title>{`${messageObj.sender.firstName} ${messageObj.sender.lastName}`}</Card.Title>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t<Card.Body className=\"text-right\">\n\t\t\t\t\t\t\t\t<p>{messageObj.message.text}</p>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t<Card.Footer className=\"text-right\">{format(messageObj.message.date, 'dd-MM-yyyy HH:mm')}</Card.Footer>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<Form className=\"mt-3\" dir=\"rtl\">\n\t\t\t\t\t<h3 className=\"text-center\"> </h3>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col xl=\"12\">\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\tid=\"textAreaMSG\"\n\t\t\t\t\t\t\t\tname=\"message\"\n\t\t\t\t\t\t\t\tonChange={onMessage}\n\t\t\t\t\t\t\t\tplaceholder=\"  \"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col className=\"mt-3 \" xl=\"3\">\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={sendMessage} block>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Form>\n\t\t\t</Jumbotron>\n\t\t</Container>\n\t);\n};\n\nexport default Message;\n","import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Container, Row, Col, Badge, CardGroup, Card } from 'react-bootstrap';\nimport Api from '../Api';\n\nconst Search = () => {\n    let { searchWord } = useParams();\n    const [items, setItems] = useState([]);\n\n\n    useEffect(() => {\n\n        async function searchItems() {\n            const data = await Api.getItemsBySearchWord(searchWord);\n            console.log(data);\n            setItems(data.items);\n        };\n\n        searchItems();\n    }, []);\n\n    function formatDate(date) {\n        const d = new Date(date);\n        return d.toLocaleString('en-GB');\n    }\n\n    return (\n        <Container >\n            <Row style={{ marginTop: '1%' }}>\n                <Badge as={Col} variant=\"dark\" className={'text-center'} style={{ fontSize: 'large' }}>\n                     : {searchWord}\n                </Badge>\n            </Row>\n            <CardGroup as={Row} className=\"pt-3\">\n                {items.length > 0 && items.map((item, i) => {\n                    return (\n                        <Col xl={3} md={3} sm={6} xs={6}>\n                            <Card key={i}>\n                                <Link to={`/item/${item._id}`}>\n                                    <Card.Img variant=\"top\" src={item.mainImg} />\n                                    <Card.Body>\n                                        <Card.Title className=\"text-center\">\n                                            {item.title}\n                                            <p>\n                                                <Badge pill variant=\"primary\">: {item.priceHour}</Badge>\n                                                <br />\n                                                <Badge pill variant=\"primary\">: {item.priceDay}</Badge>\n                                            </p>\n\n                                        </Card.Title>\n                                    </Card.Body>\n                                </Link>\n                                <Card.Footer className=\"text-center\">\n                                    <small className=\"text-muted\">{formatDate(item.createdAt)}</small>\n                                </Card.Footer>\n                            </Card>\n                        </Col>\n                    );\n                })}\n            </CardGroup>\n        </Container>\n\n    );\n}\n\nexport default Search;","import React from 'react';\nimport { Spinner } from 'react-bootstrap';\n\nconst Loading = () => {\n\n    return (\n        <div className=\"text-center mt-5\">\n            <h2>Loading...</h2>\n            <Spinner animation=\"border\" role=\"status\" size=\"xl\">\n            </Spinner>\n        </div>\n    )\n}\n\nexport default Loading;","import React, { useState, useEffect } from 'react';\nimport './App.css';\n\n// Route - render component base on path\nimport { Route, useHistory, Switch } from 'react-router-dom';\n\nimport io from 'socket.io-client';\n\n// import component\nimport MainNavbar from './componets/MainNavbar';\nimport FooterCont from './componets/FooterCont';\n\nimport Home from './pages/Home';\nimport Register from './pages/Register';\nimport Help from './pages/Help';\nimport AddItem from './pages/AddItem';\nimport PrivatePage from './pages/Private';\nimport CategoryPage from './pages/Category';\nimport Item from './pages/Item';\nimport LessorItems from './pages/LessorItems';\nimport BookingLessor from './pages/BookingLessor';\nimport CurrentLessor from './pages/CurrentLessor';\nimport HistoryLessor from './pages/HistoryLessor';\nimport HistoryLessee from './pages/historyLessee';\nimport BookingLessee from './pages/BookingLessee';\nimport CurrentLessee from './pages/CurrentLessee';\nimport MessagesList from './pages/MessagesList';\nimport Message from './pages/Message';\nimport Search from './pages/Search';\n\nimport Loading from './componets/Loading';\nimport Api from './Api';\n\nfunction App() {\n\tconst [user, setUser] = useState(null);\n\n\tconst [loading, setLoading] = useState(true);\n\n\tconst history = useHistory();\n\n\t// when user login -> save user object in state\n\tconst onLogin = newUser => setUser(newUser);\n\n\t// when user log out -> delete user object and token\n\tconst onLogout = () => {\n\t\tsetUser(null);\n\t\tlocalStorage.removeItem('token');\n\n\t\t//redirect to homePage when logOut\n\t\thistory.push('/');\n\t};\n\n\t// use effect run after render\n\tuseEffect(() => {\n\t\tasync function getCurrent() {\n\t\t\tconst token = localStorage.getItem('token');\n\t\t\tif (!token) {\n\t\t\t\treturn setLoading(false);\n\t\t\t}\n\t\t\t// let baseUrl = 'localhost:4000';\n\t\t\t// if (process.env.NODE_ENV === 'production') {\n\t\t\t// \tbaseUrl = 'glacial-cliffs-91994.herokuapp.com';\n\t\t\t// }\n\t\t\t// window.socket = io(`https://${baseUrl}?token=${token}`);\n\n\t\t\tconst url = process.env.NODE_ENV !== 'production' ? 'http://localhost:4000' : '/';\n\t\t\tif (!window.socket.id) {\n\t\t\t\twindow.socket = io(`${url}?token=${token}`);\n\t\t\t\twindow.socket.on('connect', () => {\n\t\t\t\t\tconsole.log('client id', window.socket.id);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst user = await Api.getCurrentUser();\n\t\t\tconsole.log('current:', user);\n\t\t\tconsole.log('curre111111111nt');\n\n\t\t\tsetUser(user);\n\t\t\tsetLoading(false);\n\t\t}\n\n\t\tgetCurrent();\n\t}, []);\n\n\t//loading page effect\n\tif (loading) {\n\t\t// wait until fetch current user finish\n\t\treturn <Loading />;\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<MainNavbar onLogin={onLogin} user={user} onLogout={onLogout} className=\" mb-3\" />\n\t\t\t<div>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t<Route exact path=\"/addItem\" component={AddItem} />\n\t\t\t\t\t<Route exact path=\"/help\" component={Help} />\n\t\t\t\t\t<Route exact path=\"/messages\">\n\t\t\t\t\t\t<MessagesList user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/messages/message/:id\">\n\t\t\t\t\t\t<Message user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/register\">\n\t\t\t\t\t\t<Register onLogin={onLogin} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/search/:searchWord\">\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t{/* lessor section */}\n\t\t\t\t\t<Route exact path=\"/edit_items\">\n\t\t\t\t\t\t<LessorItems user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/private/lessor/booking\">\n\t\t\t\t\t\t<BookingLessor user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/private/lessor/current_rent\">\n\t\t\t\t\t\t<CurrentLessor user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/private/lessor/history\">\n\t\t\t\t\t\t<HistoryLessor user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t{/* lessee section */}\n\t\t\t\t\t<Route exact path=\"/private/lessee/booking\">\n\t\t\t\t\t\t<BookingLessee user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/private/lessee/current_rent\">\n\t\t\t\t\t\t<CurrentLessee user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/private/lessee/history\">\n\t\t\t\t\t\t<HistoryLessee user={user} />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/private\" component={PrivatePage} />\n\t\t\t\t\t<Route exact path=\"/category/:id\">\n\t\t\t\t\t\t<CategoryPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/item/:id\">\n\t\t\t\t\t\t<Item user={user} />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t\t<footer className=\"sticky-bottom mt-5\">\n\t\t\t\t<FooterCont />\n\t\t\t</footer>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker'; //?\nimport 'bootstrap/dist/css/bootstrap.min.css'; // react-bootstrap css\n// BrowserRouter listen to url change, and re-render Route components\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n\t// <React.StrictMode>\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\t// </React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}